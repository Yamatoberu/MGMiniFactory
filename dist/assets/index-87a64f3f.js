function Nf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Tc={exports:{}},bi={},Pc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Of=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Af=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),Wl=Symbol.iterator;function zf(t){return t===null||typeof t!="object"?null:(t=Wl&&t[Wl]||t["@@iterator"],typeof t=="function"?t:null)}var Oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rc=Object.assign,Lc={};function sr(t,e,n){this.props=t,this.context=e,this.refs=Lc,this.updater=n||Oc}sr.prototype.isReactComponent={};sr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ic(){}Ic.prototype=sr.prototype;function Ua(t,e,n){this.props=t,this.context=e,this.refs=Lc,this.updater=n||Oc}var Ma=Ua.prototype=new Ic;Ma.constructor=Ua;Rc(Ma,sr.prototype);Ma.isPureReactComponent=!0;var Vl=Array.isArray,$c=Object.prototype.hasOwnProperty,Fa={current:null},Ac={key:!0,ref:!0,__self:!0,__source:!0};function Dc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$c.call(e,r)&&!Ac.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:os,type:t,key:i,ref:o,props:s,_owner:Fa.current}}function Bf(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function za(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function Wf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hl=/\/+/g;function Ki(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wf(""+t.key):e.toString(36)}function Us(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Of:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ki(o,0):r,Vl(s)?(n="",t!=null&&(n=t.replace(Hl,"$&/")+"/"),Us(s,e,n,"",function(u){return u})):s!=null&&(za(s)&&(s=Bf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Vl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ki(i,a);o+=Us(i,e,n,l,s)}else if(l=zf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ki(i,a++),o+=Us(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(t,e,n){if(t==null)return t;var r=[],s=0;return Us(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Vf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},Ms={transition:null},Hf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:Fa};function Uc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ms,forEach:function(t,e,n){ms(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ms(t,function(){e++}),e},toArray:function(t){return ms(t,function(e){return e})||[]},only:function(t){if(!za(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=sr;M.Fragment=Rf;M.Profiler=If;M.PureComponent=Ua;M.StrictMode=Lf;M.Suspense=Uf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;M.act=Uc;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Fa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$c.call(e,l)&&!Ac.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:os,type:t.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(t){return t={$$typeof:Af,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$f,_context:t},t.Consumer=t};M.createElement=Dc;M.createFactory=function(t){var e=Dc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Df,render:t}};M.isValidElement=za;M.lazy=function(t){return{$$typeof:Ff,_payload:{_status:-1,_result:t},_init:Vf}};M.memo=function(t,e){return{$$typeof:Mf,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Ms.transition;Ms.transition={};try{t()}finally{Ms.transition=e}};M.unstable_act=Uc;M.useCallback=function(t,e){return je.current.useCallback(t,e)};M.useContext=function(t){return je.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return je.current.useDeferredValue(t)};M.useEffect=function(t,e){return je.current.useEffect(t,e)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return je.current.useMemo(t,e)};M.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};M.useRef=function(t){return je.current.useRef(t)};M.useState=function(t){return je.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";Pc.exports=M;var b=Pc.exports;const Mc=Tf(b),Kf=Nf({__proto__:null,default:Mc},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=b,Gf=Symbol.for("react.element"),qf=Symbol.for("react.fragment"),Jf=Object.prototype.hasOwnProperty,Yf=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xf={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jf.call(e,r)&&!Xf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Gf,type:t,key:i,ref:o,props:s,_owner:Yf.current}}bi.Fragment=qf;bi.jsx=Fc;bi.jsxs=Fc;Tc.exports=bi;var h=Tc.exports,Oo={},zc={exports:{}},Fe={},Bc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(v,k){var P=v.length;v.push(k);e:for(;0<P;){var L=P-1>>>1,D=v[L];if(0<s(D,k))v[L]=k,v[P]=D,P=L;else break e}}function n(v){return v.length===0?null:v[0]}function r(v){if(v.length===0)return null;var k=v[0],P=v.pop();if(P!==k){v[0]=P;e:for(var L=0,D=v.length,de=D>>>1;L<de;){var he=2*(L+1)-1,Ne=v[he],Se=he+1,We=v[Se];if(0>s(Ne,P))Se<D&&0>s(We,Ne)?(v[L]=We,v[Se]=P,L=Se):(v[L]=Ne,v[he]=P,L=he);else if(Se<D&&0>s(We,P))v[L]=We,v[Se]=P,L=Se;else break e}}return k}function s(v,k){var P=v.sortIndex-k.sortIndex;return P!==0?P:v.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,m=3,y=!1,_=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(v){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=v)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(u)}}function w(v){if(x=!1,p(v),!_)if(n(l)!==null)_=!0,ft(E);else{var k=n(u);k!==null&&Be(w,k.startTime-v)}}function E(v,k){_=!1,x&&(x=!1,g(T),T=-1),y=!0;var P=m;try{for(p(k),f=n(l);f!==null&&(!(f.expirationTime>k)||v&&!V());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var D=L(f.expirationTime<=k);k=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),p(k)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var he=n(u);he!==null&&Be(w,he.startTime-k),de=!1}return de}finally{f=null,m=P,y=!1}}var j=!1,C=null,T=-1,I=5,R=-1;function V(){return!(t.unstable_now()-R<I)}function se(){if(C!==null){var v=t.unstable_now();R=v;var k=!0;try{k=C(!0,v)}finally{k?oe():(j=!1,C=null)}}else j=!1}var oe;if(typeof d=="function")oe=function(){d(se)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ht=te.port2;te.port1.onmessage=se,oe=function(){ht.postMessage(null)}}else oe=function(){S(se,0)};function ft(v){C=v,j||(j=!0,oe())}function Be(v,k){T=S(function(){v(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(v){v.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,ft(E))},t.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<v?Math.floor(1e3/v):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(v){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var P=m;m=k;try{return v()}finally{m=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(v,k){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var P=m;m=v;try{return k()}finally{m=P}},t.unstable_scheduleCallback=function(v,k,P){var L=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,v){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=P+D,v={id:c++,callback:k,priorityLevel:v,startTime:P,expirationTime:D,sortIndex:-1},P>L?(v.sortIndex=P,e(u,v),n(l)===null&&v===n(u)&&(x?(g(T),T=-1):x=!0,Be(w,P-L))):(v.sortIndex=D,e(l,v),_||y||(_=!0,ft(E))),v},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(v){var k=m;return function(){var P=m;m=k;try{return v.apply(this,arguments)}finally{m=P}}}})(Wc);Bc.exports=Wc;var Zf=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=b,Ue=Zf;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vc=new Set,Fr={};function wn(t,e){Jn(t,e),Jn(t+"Capture",e)}function Jn(t,e){for(Fr[t]=e,t=0;t<e.length;t++)Vc.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kl={},Ql={};function np(t){return Ro.call(Ql,t)?!0:Ro.call(Kl,t)?!1:tp.test(t)?Ql[t]=!0:(Kl[t]=!0,!1)}function rp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sp(t,e,n,r){if(e===null||typeof e>"u"||rp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ba=/[\-:]([a-z])/g;function Wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ba,Wa);ve[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ba,Wa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ba,Wa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function Va(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sp(e,n,s,r)&&(n=null),r||s===null?np(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jt=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Ha=Symbol.for("react.strict_mode"),Lo=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),$o=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),Gl=Symbol.iterator;function hr(t){return t===null||typeof t!="object"?null:(t=Gl&&t[Gl]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Qi;function Sr(t){if(Qi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qi=e&&e[1]||""}return`
`+Qi+t}var Gi=!1;function qi(t,e){if(!t||Gi)return"";Gi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sr(t):""}function ip(t){switch(t.tag){case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return t=qi(t.type,!1),t;case 11:return t=qi(t.type.render,!1),t;case 1:return t=qi(t.type,!0),t;default:return""}}function Ao(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case Rn:return"Portal";case Lo:return"Profiler";case Ha:return"StrictMode";case Io:return"Suspense";case $o:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kc:return(t.displayName||"Context")+".Consumer";case Hc:return(t._context.displayName||"Context")+".Provider";case Ka:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qa:return e=t.displayName||null,e!==null?e:Ao(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return Ao(t(e))}catch{}}return null}function op(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ao(e);case 8:return e===Ha?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ap(t){var e=Gc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vs(t){t._valueTracker||(t._valueTracker=ap(t))}function qc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Do(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ql(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jc(t,e){e=e.checked,e!=null&&Va(t,"checked",e,!1)}function Uo(t,e){Jc(t,e);var n=Gt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mo(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mo(t,e,n){(e!=="number"||Js(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kr=Array.isArray;function Vn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(kr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gt(n)}}function Yc(t,e){var n=Gt(e.value),r=Gt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ys,Zc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(t){lp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]})});function ed(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function td(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ed(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var up=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(t,e){if(e){if(up[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Wo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Ga(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ho=null,Hn=null,Kn=null;function Zl(t){if(t=us(t)){if(typeof Ho!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ti(e),Ho(t.stateNode,t.type,e))}}function nd(t){Hn?Kn?Kn.push(t):Kn=[t]:Hn=t}function rd(){if(Hn){var t=Hn,e=Kn;if(Kn=Hn=null,Zl(t),e)for(t=0;t<e.length;t++)Zl(e[t])}}function sd(t,e){return t(e)}function id(){}var Ji=!1;function od(t,e,n){if(Ji)return t(e,n);Ji=!0;try{return sd(t,e,n)}finally{Ji=!1,(Hn!==null||Kn!==null)&&(id(),rd())}}function Br(t,e){var n=t.stateNode;if(n===null)return null;var r=Ti(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ko=!1;if(St)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Ko=!1}function cp(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tr=!1,Ys=null,Xs=!1,Qo=null,dp={onError:function(t){Tr=!0,Ys=t}};function hp(t,e,n,r,s,i,o,a,l){Tr=!1,Ys=null,cp.apply(dp,arguments)}function fp(t,e,n,r,s,i,o,a,l){if(hp.apply(this,arguments),Tr){if(Tr){var u=Ys;Tr=!1,Ys=null}else throw Error(N(198));Xs||(Xs=!0,Qo=u)}}function _n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ad(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eu(t){if(_n(t)!==t)throw Error(N(188))}function pp(t){var e=t.alternate;if(!e){if(e=_n(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return eu(s),t;if(i===r)return eu(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function ld(t){return t=pp(t),t!==null?ud(t):null}function ud(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ud(t);if(e!==null)return e;t=t.sibling}return null}var cd=Ue.unstable_scheduleCallback,tu=Ue.unstable_cancelCallback,mp=Ue.unstable_shouldYield,gp=Ue.unstable_requestPaint,ne=Ue.unstable_now,vp=Ue.unstable_getCurrentPriorityLevel,qa=Ue.unstable_ImmediatePriority,dd=Ue.unstable_UserBlockingPriority,Zs=Ue.unstable_NormalPriority,yp=Ue.unstable_LowPriority,hd=Ue.unstable_IdlePriority,Ei=null,ct=null;function wp(t){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ei,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Sp,_p=Math.log,xp=Math.LN2;function Sp(t){return t>>>=0,t===0?32:31-(_p(t)/xp|0)|0}var ws=64,_s=4194304;function br(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ei(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=br(a):(i&=o,i!==0&&(r=br(i)))}else o=n&~s,o!==0?r=br(o):i!==0&&(r=br(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rt(e),s=1<<n,r|=t[n],e&=~s;return r}function kp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=kp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Go(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fd(){var t=ws;return ws<<=1,!(ws&4194240)&&(ws=64),t}function Yi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function as(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=n}function Ep(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ja(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function pd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var md,Ya,gd,vd,yd,qo=!1,xs=[],Mt=null,Ft=null,zt=null,Wr=new Map,Vr=new Map,Lt=[],jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Wr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function pr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=us(e),e!==null&&Ya(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cp(t,e,n,r,s){switch(e){case"focusin":return Mt=pr(Mt,t,e,n,r,s),!0;case"dragenter":return Ft=pr(Ft,t,e,n,r,s),!0;case"mouseover":return zt=pr(zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wr.set(i,pr(Wr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vr.set(i,pr(Vr.get(i)||null,t,e,n,r,s)),!0}return!1}function wd(t){var e=un(t.target);if(e!==null){var n=_n(e);if(n!==null){if(e=n.tag,e===13){if(e=ad(n),e!==null){t.blockedOn=e,yd(t.priority,function(){gd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return e=us(n),e!==null&&Ya(e),t.blockedOn=n,!1;e.shift()}return!0}function ru(t,e,n){Fs(t)&&n.delete(e)}function Np(){qo=!1,Mt!==null&&Fs(Mt)&&(Mt=null),Ft!==null&&Fs(Ft)&&(Ft=null),zt!==null&&Fs(zt)&&(zt=null),Wr.forEach(ru),Vr.forEach(ru)}function mr(t,e){t.blockedOn===e&&(t.blockedOn=null,qo||(qo=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Np)))}function Hr(t){function e(s){return mr(s,t)}if(0<xs.length){mr(xs[0],t);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&mr(Mt,t),Ft!==null&&mr(Ft,t),zt!==null&&mr(zt,t),Wr.forEach(e),Vr.forEach(e),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&Lt.shift()}var Qn=jt.ReactCurrentBatchConfig,ti=!0;function Tp(t,e,n,r){var s=W,i=Qn.transition;Qn.transition=null;try{W=1,Xa(t,e,n,r)}finally{W=s,Qn.transition=i}}function Pp(t,e,n,r){var s=W,i=Qn.transition;Qn.transition=null;try{W=4,Xa(t,e,n,r)}finally{W=s,Qn.transition=i}}function Xa(t,e,n,r){if(ti){var s=Jo(t,e,n,r);if(s===null)ao(t,e,r,ni,n),nu(t,r);else if(Cp(s,t,e,n,r))r.stopPropagation();else if(nu(t,r),e&4&&-1<jp.indexOf(t)){for(;s!==null;){var i=us(s);if(i!==null&&md(i),i=Jo(t,e,n,r),i===null&&ao(t,e,r,ni,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ao(t,e,r,null,n)}}var ni=null;function Jo(t,e,n,r){if(ni=null,t=Ga(r),t=un(t),t!==null)if(e=_n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ad(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ni=t,null}function _d(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vp()){case qa:return 1;case dd:return 4;case Zs:case yp:return 16;case hd:return 536870912;default:return 16}default:return 16}}var At=null,Za=null,zs=null;function xd(){if(zs)return zs;var t,e=Za,n=e.length,r,s="value"in At?At.value:At.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return zs=s.slice(t,1<r?1-r:void 0)}function Bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function su(){return!1}function ze(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:su,this.isPropagationStopped=su,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),e}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=ze(ir),ls=Z({},ir,{view:0,detail:0}),Op=ze(ls),Xi,Zi,gr,ji=Z({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gr&&(gr&&t.type==="mousemove"?(Xi=t.screenX-gr.screenX,Zi=t.screenY-gr.screenY):Zi=Xi=0,gr=t),Xi)},movementY:function(t){return"movementY"in t?t.movementY:Zi}}),iu=ze(ji),Rp=Z({},ji,{dataTransfer:0}),Lp=ze(Rp),Ip=Z({},ls,{relatedTarget:0}),eo=ze(Ip),$p=Z({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=ze($p),Dp=Z({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Up=ze(Dp),Mp=Z({},ir,{data:0}),ou=ze(Mp),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bp[t])?!!e[t]:!1}function tl(){return Wp}var Vp=Z({},ls,{key:function(t){if(t.key){var e=Fp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hp=ze(Vp),Kp=Z({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=ze(Kp),Qp=Z({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),Gp=ze(Qp),qp=Z({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=ze(qp),Yp=Z({},ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=ze(Yp),Zp=[9,13,27,32],nl=St&&"CompositionEvent"in window,Pr=null;St&&"documentMode"in document&&(Pr=document.documentMode);var em=St&&"TextEvent"in window&&!Pr,Sd=St&&(!nl||Pr&&8<Pr&&11>=Pr),lu=String.fromCharCode(32),uu=!1;function kd(t,e){switch(t){case"keyup":return Zp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var In=!1;function tm(t,e){switch(t){case"compositionend":return bd(e);case"keypress":return e.which!==32?null:(uu=!0,lu);case"textInput":return t=e.data,t===lu&&uu?null:t;default:return null}}function nm(t,e){if(In)return t==="compositionend"||!nl&&kd(t,e)?(t=xd(),zs=Za=At=null,In=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sd&&e.locale!=="ko"?null:e.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rm[t.type]:e==="textarea"}function Ed(t,e,n,r){nd(r),e=ri(e,"onChange"),0<e.length&&(n=new el("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Or=null,Kr=null;function sm(t){Ad(t,0)}function Ci(t){var e=Dn(t);if(qc(e))return t}function im(t,e){if(t==="change")return e}var jd=!1;if(St){var to;if(St){var no="oninput"in document;if(!no){var du=document.createElement("div");du.setAttribute("oninput","return;"),no=typeof du.oninput=="function"}to=no}else to=!1;jd=to&&(!document.documentMode||9<document.documentMode)}function hu(){Or&&(Or.detachEvent("onpropertychange",Cd),Kr=Or=null)}function Cd(t){if(t.propertyName==="value"&&Ci(Kr)){var e=[];Ed(e,Kr,t,Ga(t)),od(sm,e)}}function om(t,e,n){t==="focusin"?(hu(),Or=e,Kr=n,Or.attachEvent("onpropertychange",Cd)):t==="focusout"&&hu()}function am(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ci(Kr)}function lm(t,e){if(t==="click")return Ci(e)}function um(t,e){if(t==="input"||t==="change")return Ci(e)}function cm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:cm;function Qr(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ro.call(e,s)||!it(t[s],e[s]))return!1}return!0}function fu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pu(t,e){var n=fu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fu(n)}}function Nd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Td(){for(var t=window,e=Js();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Js(t.document)}return e}function rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dm(t){var e=Td(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nd(n.ownerDocument.documentElement,n)){if(r!==null&&rl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=pu(n,i);var o=pu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hm=St&&"documentMode"in document&&11>=document.documentMode,$n=null,Yo=null,Rr=null,Xo=!1;function mu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||$n==null||$n!==Js(r)||(r=$n,"selectionStart"in r&&rl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Qr(Rr,r)||(Rr=r,r=ri(Yo,"onSelect"),0<r.length&&(e=new el("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$n)))}function ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var An={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},ro={},Pd={};St&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ni(t){if(ro[t])return ro[t];if(!An[t])return t;var e=An[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pd)return ro[t]=e[n];return t}var Od=Ni("animationend"),Rd=Ni("animationiteration"),Ld=Ni("animationstart"),Id=Ni("transitionend"),$d=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){$d.set(t,e),wn(e,[t])}for(var so=0;so<gu.length;so++){var io=gu[so],fm=io.toLowerCase(),pm=io[0].toUpperCase()+io.slice(1);Jt(fm,"on"+pm)}Jt(Od,"onAnimationEnd");Jt(Rd,"onAnimationIteration");Jt(Ld,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Id,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function vu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fp(r,e,void 0,t),t.currentTarget=null}function Ad(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vu(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vu(s,a,u),i=l}}}if(Xs)throw t=Qo,Xs=!1,Qo=null,t}function Q(t,e){var n=e[ra];n===void 0&&(n=e[ra]=new Set);var r=t+"__bubble";n.has(r)||(Dd(e,t,2,!1),n.add(r))}function oo(t,e,n){var r=0;e&&(r|=4),Dd(n,t,r,e)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[bs]){t[bs]=!0,Vc.forEach(function(n){n!=="selectionchange"&&(mm.has(n)||oo(n,!1,t),oo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bs]||(e[bs]=!0,oo("selectionchange",!1,e))}}function Dd(t,e,n,r){switch(_d(e)){case 1:var s=Tp;break;case 4:s=Pp;break;default:s=Xa}n=s.bind(null,e,n,t),s=void 0,!Ko||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ao(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}od(function(){var u=i,c=Ga(n),f=[];e:{var m=$d.get(t);if(m!==void 0){var y=el,_=t;switch(t){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":y=Hp;break;case"focusin":_="focus",y=eo;break;case"focusout":_="blur",y=eo;break;case"beforeblur":case"afterblur":y=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Gp;break;case Od:case Rd:case Ld:y=Ap;break;case Id:y=Jp;break;case"scroll":y=Op;break;case"wheel":y=Xp;break;case"copy":case"cut":case"paste":y=Up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=au}var x=(e&4)!==0,S=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var d=u,p;d!==null;){p=d;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=Br(d,g),w!=null&&x.push(qr(d,w,p)))),S)break;d=d.return}0<x.length&&(m=new y(m,_,null,n,c),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Vo&&(_=n.relatedTarget||n.fromElement)&&(un(_)||_[kt]))break e;if((y||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?un(_):null,_!==null&&(S=_n(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(x=iu,w="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(x=au,w="onPointerLeave",g="onPointerEnter",d="pointer"),S=y==null?m:Dn(y),p=_==null?m:Dn(_),m=new x(w,d+"leave",y,n,c),m.target=S,m.relatedTarget=p,w=null,un(c)===u&&(x=new x(g,d+"enter",_,n,c),x.target=p,x.relatedTarget=S,w=x),S=w,y&&_)t:{for(x=y,g=_,d=0,p=x;p;p=kn(p))d++;for(p=0,w=g;w;w=kn(w))p++;for(;0<d-p;)x=kn(x),d--;for(;0<p-d;)g=kn(g),p--;for(;d--;){if(x===g||g!==null&&x===g.alternate)break t;x=kn(x),g=kn(g)}x=null}else x=null;y!==null&&yu(f,m,y,x,!1),_!==null&&S!==null&&yu(f,S,_,x,!0)}}e:{if(m=u?Dn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var E=im;else if(cu(m))if(jd)E=um;else{E=am;var j=om}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=lm);if(E&&(E=E(t,u))){Ed(f,E,n,c);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Mo(m,"number",m.value)}switch(j=u?Dn(u):window,t){case"focusin":(cu(j)||j.contentEditable==="true")&&($n=j,Yo=u,Rr=null);break;case"focusout":Rr=Yo=$n=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,mu(f,n,c);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":mu(f,n,c)}var C;if(nl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else In?kd(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Sd&&n.locale!=="ko"&&(In||T!=="onCompositionStart"?T==="onCompositionEnd"&&In&&(C=xd()):(At=c,Za="value"in At?At.value:At.textContent,In=!0)),j=ri(u,T),0<j.length&&(T=new ou(T,t,null,n,c),f.push({event:T,listeners:j}),C?T.data=C:(C=bd(n),C!==null&&(T.data=C)))),(C=em?tm(t,n):nm(t,n))&&(u=ri(u,"onBeforeInput"),0<u.length&&(c=new ou("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}Ad(f,e)})}function qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ri(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(t,n),i!=null&&r.unshift(qr(t,i,s)),i=Br(t,e),i!=null&&r.push(qr(t,i,s))),t=t.return}return r}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Br(n,i),l!=null&&o.unshift(qr(n,l,a))):s||(l=Br(n,i),l!=null&&o.push(qr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gm=/\r\n?/g,vm=/\u0000|\uFFFD/g;function wu(t){return(typeof t=="string"?t:""+t).replace(gm,`
`).replace(vm,"")}function Es(t,e,n){if(e=wu(e),wu(t)!==e&&n)throw Error(N(425))}function si(){}var Zo=null,ea=null;function ta(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var na=typeof setTimeout=="function"?setTimeout:void 0,ym=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(t){return _u.resolve(null).then(t).catch(_m)}:na;function _m(t){setTimeout(function(){throw t})}function lo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),ut="__reactFiber$"+or,Jr="__reactProps$"+or,kt="__reactContainer$"+or,ra="__reactEvents$"+or,xm="__reactListeners$"+or,Sm="__reactHandles$"+or;function un(t){var e=t[ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kt]||n[ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xu(t);t!==null;){if(n=t[ut])return n;t=xu(t)}return e}t=n,n=t.parentNode}return null}function us(t){return t=t[ut]||t[kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ti(t){return t[Jr]||null}var sa=[],Un=-1;function Yt(t){return{current:t}}function G(t){0>Un||(t.current=sa[Un],sa[Un]=null,Un--)}function K(t,e){Un++,sa[Un]=t.current,t.current=e}var qt={},xe=Yt(qt),Re=Yt(!1),pn=qt;function Yn(t,e){var n=t.type.contextTypes;if(!n)return qt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Le(t){return t=t.childContextTypes,t!=null}function ii(){G(Re),G(xe)}function Su(t,e,n){if(xe.current!==qt)throw Error(N(168));K(xe,e),K(Re,n)}function Ud(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,op(t)||"Unknown",s));return Z({},n,r)}function oi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,pn=xe.current,K(xe,t),K(Re,Re.current),!0}function ku(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Ud(t,e,pn),r.__reactInternalMemoizedMergedChildContext=t,G(Re),G(xe),K(xe,t)):G(Re),K(Re,n)}var yt=null,Pi=!1,uo=!1;function Md(t){yt===null?yt=[t]:yt.push(t)}function km(t){Pi=!0,Md(t)}function Xt(){if(!uo&&yt!==null){uo=!0;var t=0,e=W;try{var n=yt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yt=null,Pi=!1}catch(s){throw yt!==null&&(yt=yt.slice(t+1)),cd(qa,Xt),s}finally{W=e,uo=!1}}return null}var Mn=[],Fn=0,ai=null,li=0,Ve=[],He=0,mn=null,wt=1,_t="";function sn(t,e){Mn[Fn++]=li,Mn[Fn++]=ai,ai=t,li=e}function Fd(t,e,n){Ve[He++]=wt,Ve[He++]=_t,Ve[He++]=mn,mn=t;var r=wt;t=_t;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var i=32-rt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wt=1<<32-rt(e)+s|n<<s|r,_t=i+t}else wt=1<<i|n<<s|r,_t=t}function sl(t){t.return!==null&&(sn(t,1),Fd(t,1,0))}function il(t){for(;t===ai;)ai=Mn[--Fn],Mn[Fn]=null,li=Mn[--Fn],Mn[Fn]=null;for(;t===mn;)mn=Ve[--He],Ve[He]=null,_t=Ve[--He],Ve[He]=null,wt=Ve[--He],Ve[He]=null}var De=null,Ae=null,J=!1,nt=null;function zd(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,De=t,Ae=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,De=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mn!==null?{id:wt,overflow:_t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,De=t,Ae=null,!0):!1;default:return!1}}function ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oa(t){if(J){var e=Ae;if(e){var n=e;if(!bu(t,e)){if(ia(t))throw Error(N(418));e=Bt(n.nextSibling);var r=De;e&&bu(t,e)?zd(r,n):(t.flags=t.flags&-4097|2,J=!1,De=t)}}else{if(ia(t))throw Error(N(418));t.flags=t.flags&-4097|2,J=!1,De=t}}}function Eu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;De=t}function js(t){if(t!==De)return!1;if(!J)return Eu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ta(t.type,t.memoizedProps)),e&&(e=Ae)){if(ia(t))throw Bd(),Error(N(418));for(;e;)zd(t,e),e=Bt(e.nextSibling)}if(Eu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ae=Bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=De?Bt(t.stateNode.nextSibling):null;return!0}function Bd(){for(var t=Ae;t;)t=Bt(t.nextSibling)}function Xn(){Ae=De=null,J=!1}function ol(t){nt===null?nt=[t]:nt.push(t)}var bm=jt.ReactCurrentBatchConfig;function vr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Cs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ju(t){var e=t._init;return e(t._payload)}function Wd(t){function e(g,d){if(t){var p=g.deletions;p===null?(g.deletions=[d],g.flags|=16):p.push(d)}}function n(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Kt(g,d),g.index=0,g.sibling=null,g}function i(g,d,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<d?(g.flags|=2,d):p):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,p,w){return d===null||d.tag!==6?(d=vo(p,g.mode,w),d.return=g,d):(d=s(d,p),d.return=g,d)}function l(g,d,p,w){var E=p.type;return E===Ln?c(g,d,p.props.children,w,p.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&ju(E)===d.type)?(w=s(d,p.props),w.ref=vr(g,d,p),w.return=g,w):(w=qs(p.type,p.key,p.props,null,g.mode,w),w.ref=vr(g,d,p),w.return=g,w)}function u(g,d,p,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=yo(p,g.mode,w),d.return=g,d):(d=s(d,p.children||[]),d.return=g,d)}function c(g,d,p,w,E){return d===null||d.tag!==7?(d=fn(p,g.mode,w,E),d.return=g,d):(d=s(d,p),d.return=g,d)}function f(g,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=vo(""+d,g.mode,p),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case gs:return p=qs(d.type,d.key,d.props,null,g.mode,p),p.ref=vr(g,null,d),p.return=g,p;case Rn:return d=yo(d,g.mode,p),d.return=g,d;case Ot:var w=d._init;return f(g,w(d._payload),p)}if(kr(d)||hr(d))return d=fn(d,g.mode,p,null),d.return=g,d;Cs(g,d)}return null}function m(g,d,p,w){var E=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(g,d,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:return p.key===E?l(g,d,p,w):null;case Rn:return p.key===E?u(g,d,p,w):null;case Ot:return E=p._init,m(g,d,E(p._payload),w)}if(kr(p)||hr(p))return E!==null?null:c(g,d,p,w,null);Cs(g,p)}return null}function y(g,d,p,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,a(d,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gs:return g=g.get(w.key===null?p:w.key)||null,l(d,g,w,E);case Rn:return g=g.get(w.key===null?p:w.key)||null,u(d,g,w,E);case Ot:var j=w._init;return y(g,d,p,j(w._payload),E)}if(kr(w)||hr(w))return g=g.get(p)||null,c(d,g,w,E,null);Cs(d,w)}return null}function _(g,d,p,w){for(var E=null,j=null,C=d,T=d=0,I=null;C!==null&&T<p.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var R=m(g,C,p[T],w);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(g,C),d=i(R,d,T),j===null?E=R:j.sibling=R,j=R,C=I}if(T===p.length)return n(g,C),J&&sn(g,T),E;if(C===null){for(;T<p.length;T++)C=f(g,p[T],w),C!==null&&(d=i(C,d,T),j===null?E=C:j.sibling=C,j=C);return J&&sn(g,T),E}for(C=r(g,C);T<p.length;T++)I=y(C,g,T,p[T],w),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),d=i(I,d,T),j===null?E=I:j.sibling=I,j=I);return t&&C.forEach(function(V){return e(g,V)}),J&&sn(g,T),E}function x(g,d,p,w){var E=hr(p);if(typeof E!="function")throw Error(N(150));if(p=E.call(p),p==null)throw Error(N(151));for(var j=E=null,C=d,T=d=0,I=null,R=p.next();C!==null&&!R.done;T++,R=p.next()){C.index>T?(I=C,C=null):I=C.sibling;var V=m(g,C,R.value,w);if(V===null){C===null&&(C=I);break}t&&C&&V.alternate===null&&e(g,C),d=i(V,d,T),j===null?E=V:j.sibling=V,j=V,C=I}if(R.done)return n(g,C),J&&sn(g,T),E;if(C===null){for(;!R.done;T++,R=p.next())R=f(g,R.value,w),R!==null&&(d=i(R,d,T),j===null?E=R:j.sibling=R,j=R);return J&&sn(g,T),E}for(C=r(g,C);!R.done;T++,R=p.next())R=y(C,g,T,R.value,w),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),d=i(R,d,T),j===null?E=R:j.sibling=R,j=R);return t&&C.forEach(function(se){return e(g,se)}),J&&sn(g,T),E}function S(g,d,p,w){if(typeof p=="object"&&p!==null&&p.type===Ln&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:e:{for(var E=p.key,j=d;j!==null;){if(j.key===E){if(E=p.type,E===Ln){if(j.tag===7){n(g,j.sibling),d=s(j,p.props.children),d.return=g,g=d;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&ju(E)===j.type){n(g,j.sibling),d=s(j,p.props),d.ref=vr(g,j,p),d.return=g,g=d;break e}n(g,j);break}else e(g,j);j=j.sibling}p.type===Ln?(d=fn(p.props.children,g.mode,w,p.key),d.return=g,g=d):(w=qs(p.type,p.key,p.props,null,g.mode,w),w.ref=vr(g,d,p),w.return=g,g=w)}return o(g);case Rn:e:{for(j=p.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(g,d.sibling),d=s(d,p.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else e(g,d);d=d.sibling}d=yo(p,g.mode,w),d.return=g,g=d}return o(g);case Ot:return j=p._init,S(g,d,j(p._payload),w)}if(kr(p))return _(g,d,p,w);if(hr(p))return x(g,d,p,w);Cs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,p),d.return=g,g=d):(n(g,d),d=vo(p,g.mode,w),d.return=g,g=d),o(g)):n(g,d)}return S}var Zn=Wd(!0),Vd=Wd(!1),ui=Yt(null),ci=null,zn=null,al=null;function ll(){al=zn=ci=null}function ul(t){var e=ui.current;G(ui),t._currentValue=e}function aa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gn(t,e){ci=t,al=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function qe(t){var e=t._currentValue;if(al!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(ci===null)throw Error(N(308));zn=t,ci.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var cn=null;function cl(t){cn===null?cn=[t]:cn.push(t)}function Hd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,cl(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rt=!1;function dl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,cl(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ja(t,n)}}function Cu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function di(t,e,n,r){var s=t.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(m=e,y=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(y,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(y,f,m):_,m==null)break e;f=Z({},f,m);break e;case 2:Rt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vn|=o,t.lanes=o,t.memoizedState=f}}function Nu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var cs={},dt=Yt(cs),Yr=Yt(cs),Xr=Yt(cs);function dn(t){if(t===cs)throw Error(N(174));return t}function hl(t,e){switch(K(Xr,e),K(Yr,t),K(dt,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zo(e,t)}G(dt),K(dt,e)}function er(){G(dt),G(Yr),G(Xr)}function Qd(t){dn(Xr.current);var e=dn(dt.current),n=zo(e,t.type);e!==n&&(K(Yr,t),K(dt,n))}function fl(t){Yr.current===t&&(G(dt),G(Yr))}var Y=Yt(0);function hi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var co=[];function pl(){for(var t=0;t<co.length;t++)co[t]._workInProgressVersionPrimary=null;co.length=0}var Vs=jt.ReactCurrentDispatcher,ho=jt.ReactCurrentBatchConfig,gn=0,X=null,ue=null,fe=null,fi=!1,Lr=!1,Zr=0,Em=0;function ye(){throw Error(N(321))}function ml(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function gl(t,e,n,r,s,i){if(gn=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vs.current=t===null||t.memoizedState===null?Tm:Pm,t=n(r,s),Lr){i=0;do{if(Lr=!1,Zr=0,25<=i)throw Error(N(301));i+=1,fe=ue=null,e.updateQueue=null,Vs.current=Om,t=n(r,s)}while(Lr)}if(Vs.current=pi,e=ue!==null&&ue.next!==null,gn=0,fe=ue=X=null,fi=!1,e)throw Error(N(300));return t}function vl(){var t=Zr!==0;return Zr=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?X.memoizedState=fe=t:fe=fe.next=t,fe}function Je(){if(ue===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=fe===null?X.memoizedState:fe.next;if(e!==null)fe=e,ue=t;else{if(t===null)throw Error(N(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?X.memoizedState=fe=t:fe=fe.next=t}return fe}function es(t,e){return typeof e=="function"?e(t):e}function fo(t){var e=Je(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((gn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,X.lanes|=c,vn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,it(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,vn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function po(t){var e=Je(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);it(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gd(){}function qd(t,e){var n=X,r=Je(),s=e(),i=!it(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,yl(Xd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,ts(9,Yd.bind(null,n,r,s,e),void 0,null),pe===null)throw Error(N(349));gn&30||Jd(n,e,s)}return s}function Jd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yd(t,e,n,r){e.value=n,e.getSnapshot=r,Zd(e)&&eh(t)}function Xd(t,e,n){return n(function(){Zd(e)&&eh(t)})}function Zd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!it(t,n)}catch{return!0}}function eh(t){var e=bt(t,1);e!==null&&st(e,t,1,-1)}function Tu(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},e.queue=t,t=t.dispatch=Nm.bind(null,X,t),[e.memoizedState,t]}function ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function th(){return Je().memoizedState}function Hs(t,e,n,r){var s=at();X.flags|=t,s.memoizedState=ts(1|e,n,void 0,r===void 0?null:r)}function Oi(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&ml(r,o.deps)){s.memoizedState=ts(e,n,i,r);return}}X.flags|=t,s.memoizedState=ts(1|e,n,i,r)}function Pu(t,e){return Hs(8390656,8,t,e)}function yl(t,e){return Oi(2048,8,t,e)}function nh(t,e){return Oi(4,2,t,e)}function rh(t,e){return Oi(4,4,t,e)}function sh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ih(t,e,n){return n=n!=null?n.concat([t]):null,Oi(4,4,sh.bind(null,e,t),n)}function wl(){}function oh(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ml(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ah(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ml(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lh(t,e,n){return gn&21?(it(n,e)||(n=fd(),X.lanes|=n,vn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function jm(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=ho.transition;ho.transition={};try{t(!1),e()}finally{W=n,ho.transition=r}}function uh(){return Je().memoizedState}function Cm(t,e,n){var r=Ht(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ch(t))dh(e,n);else if(n=Hd(t,e,n,r),n!==null){var s=Ee();st(n,t,r,s),hh(n,e,r)}}function Nm(t,e,n){var r=Ht(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(t))dh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,it(a,o)){var l=e.interleaved;l===null?(s.next=s,cl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Hd(t,e,s,r),n!==null&&(s=Ee(),st(n,t,r,s),hh(n,e,r))}}function ch(t){var e=t.alternate;return t===X||e!==null&&e===X}function dh(t,e){Lr=fi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ja(t,n)}}var pi={readContext:qe,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Tm={readContext:qe,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:Pu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hs(4194308,4,sh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hs(4,2,t,e)},useMemo:function(t,e){var n=at();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=at();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cm.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:Tu,useDebugValue:wl,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=Tu(!1),e=t[0];return t=jm.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,s=at();if(J){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),pe===null)throw Error(N(349));gn&30||Jd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pu(Xd.bind(null,r,i,t),[t]),r.flags|=2048,ts(9,Yd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=at(),e=pe.identifierPrefix;if(J){var n=_t,r=wt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Em++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pm={readContext:qe,useCallback:oh,useContext:qe,useEffect:yl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:fo,useRef:th,useState:function(){return fo(es)},useDebugValue:wl,useDeferredValue:function(t){var e=Je();return lh(e,ue.memoizedState,t)},useTransition:function(){var t=fo(es)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Gd,useSyncExternalStore:qd,useId:uh,unstable_isNewReconciler:!1},Om={readContext:qe,useCallback:oh,useContext:qe,useEffect:yl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:po,useRef:th,useState:function(){return po(es)},useDebugValue:wl,useDeferredValue:function(t){var e=Je();return ue===null?e.memoizedState=t:lh(e,ue.memoizedState,t)},useTransition:function(){var t=po(es)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Gd,useSyncExternalStore:qd,useId:uh,unstable_isNewReconciler:!1};function Ze(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function la(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ri={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ee(),s=Ht(t),i=xt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wt(t,i,s),e!==null&&(st(e,t,s,r),Ws(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ee(),s=Ht(t),i=xt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wt(t,i,s),e!==null&&(st(e,t,s,r),Ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ee(),r=Ht(t),s=xt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wt(t,s,r),e!==null&&(st(e,t,r,n),Ws(e,t,r))}};function Ou(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,i):!0}function fh(t,e,n){var r=!1,s=qt,i=e.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Le(e)?pn:xe.current,r=e.contextTypes,i=(r=r!=null)?Yn(t,s):qt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ri,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ru(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ri.enqueueReplaceState(e,e.state,null)}function ua(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Le(e)?pn:xe.current,s.context=Yn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(la(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ri.enqueueReplaceState(s,s.state,null),di(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tr(t,e){try{var n="",r=e;do n+=ip(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ca(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function ph(t,e,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gi||(gi=!0,_a=r),ca(t,e)},n}function mh(t,e,n){n=xt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ca(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ca(t,e),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Km.bind(null,t,e,n),e.then(t,t))}function Iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $u(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xt(-1,1),e.tag=2,Wt(n,e,1))),n.lanes|=1),t)}var Lm=jt.ReactCurrentOwner,Oe=!1;function be(t,e,n,r){e.child=t===null?Vd(e,null,n,r):Zn(e,t.child,n,r)}function Au(t,e,n,r,s){n=n.render;var i=e.ref;return Gn(e,s),r=gl(t,e,n,r,i,s),n=vl(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(J&&n&&sl(e),e.flags|=1,be(t,e,r,s),e.child)}function Du(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gh(t,e,i,r,s)):(t=qs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(o,r)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=Kt(i,r),t.ref=e.ref,t.return=e,e.child=t}function gh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qr(i,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Et(t,e,s)}return da(t,e,n,r,s)}function vh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Wn,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Wn,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Wn,$e),$e|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Wn,$e),$e|=r;return be(t,e,s,n),e.child}function yh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function da(t,e,n,r,s){var i=Le(n)?pn:xe.current;return i=Yn(e,i),Gn(e,s),n=gl(t,e,n,r,i,s),r=vl(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(J&&r&&sl(e),e.flags|=1,be(t,e,n,s),e.child)}function Uu(t,e,n,r,s){if(Le(n)){var i=!0;oi(e)}else i=!1;if(Gn(e,s),e.stateNode===null)Ks(t,e),fh(e,n,r),ua(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Le(n)?pn:xe.current,u=Yn(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ru(e,o,r,u),Rt=!1;var m=e.memoizedState;o.state=m,di(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Re.current||Rt?(typeof c=="function"&&(la(e,n,c,r),l=e.memoizedState),(a=Rt||Ou(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ze(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=Le(n)?pn:xe.current,l=Yn(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Ru(e,o,r,l),Rt=!1,m=e.memoizedState,o.state=m,di(e,r,o,s);var _=e.memoizedState;a!==f||m!==_||Re.current||Rt?(typeof y=="function"&&(la(e,n,y,r),_=e.memoizedState),(u=Rt||Ou(e,n,u,r,m,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ha(t,e,n,r,i,s)}function ha(t,e,n,r,s,i){yh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ku(e,n,!1),Et(t,e,i);r=e.stateNode,Lm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zn(e,t.child,null,i),e.child=Zn(e,null,a,i)):be(t,e,a,i),e.memoizedState=r.state,s&&ku(e,n,!0),e.child}function wh(t){var e=t.stateNode;e.pendingContext?Su(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Su(t,e.context,!1),hl(t,e.containerInfo)}function Mu(t,e,n,r,s){return Xn(),ol(s),e.flags|=256,be(t,e,n,r),e.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function pa(t){return{baseLanes:t,cachePool:null,transitions:null}}function _h(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Y,s&1),t===null)return oa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$i(o,r,0,null),t=fn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pa(n),e.memoizedState=fa,t):_l(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Im(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=fn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fa,r}return i=t.child,t=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _l(t,e){return e=$i({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ns(t,e,n,r){return r!==null&&ol(r),Zn(e,t.child,null,n),t=_l(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Im(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mo(Error(N(422))),Ns(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$i({mode:"visible",children:r.children},s,0,null),i=fn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zn(e,t.child,null,o),e.child.memoizedState=pa(o),e.memoizedState=fa,i);if(!(e.mode&1))return Ns(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=mo(i,r,void 0),Ns(t,e,o,r)}if(a=(o&t.childLanes)!==0,Oe||a){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),st(r,t,s,-1))}return jl(),r=mo(Error(N(421))),Ns(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Qm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ae=Bt(s.nextSibling),De=e,J=!0,nt=null,t!==null&&(Ve[He++]=wt,Ve[He++]=_t,Ve[He++]=mn,wt=t.id,_t=t.overflow,mn=e),e=_l(e,r.children),e.flags|=4096,e)}function Fu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aa(t.return,e,n)}function go(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(be(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fu(t,n,e);else if(t.tag===19)Fu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),go(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}go(e,!0,n,null,i);break;case"together":go(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $m(t,e,n){switch(e.tag){case 3:wh(e),Xn();break;case 5:Qd(e);break;case 1:Le(e.type)&&oi(e);break;case 4:hl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(ui,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?_h(t,e,n):(K(Y,Y.current&1),t=Et(t,e,n),t!==null?t.sibling:null);K(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,vh(t,e,n)}return Et(t,e,n)}var Sh,ma,kh,bh;Sh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ma=function(){};kh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,dn(dt.current);var i=null;switch(n){case"input":s=Do(t,s),r=Do(t,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=Fo(t,s),r=Fo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=si)}Bo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bh=function(t,e,n,r){n!==r&&(e.flags|=4)};function yr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Am(t,e,n){var r=e.pendingProps;switch(il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Le(e.type)&&ii(),we(e),null;case 3:return r=e.stateNode,er(),G(Re),G(xe),pl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(js(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(ka(nt),nt=null))),ma(t,e),we(e),null;case 5:fl(e);var s=dn(Xr.current);if(n=e.type,t!==null&&e.stateNode!=null)kh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return we(e),null}if(t=dn(dt.current),js(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ut]=e,r[Jr]=i,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<Er.length;s++)Q(Er[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":ql(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Yl(r,i),Q("invalid",r)}Bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,a,t),s=["children",""+a]):Fr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":vs(r),Jl(r,i,!0);break;case"textarea":vs(r),Xl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=si)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ut]=e,t[Jr]=r,Sh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wo(n,r),n){case"dialog":Q("cancel",t),Q("close",t),s=r;break;case"iframe":case"object":case"embed":Q("load",t),s=r;break;case"video":case"audio":for(s=0;s<Er.length;s++)Q(Er[s],t);s=r;break;case"source":Q("error",t),s=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=r;break;case"details":Q("toggle",t),s=r;break;case"input":ql(t,r),s=Do(t,r),Q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),Q("invalid",t);break;case"textarea":Yl(t,r),s=Fo(t,r),Q("invalid",t);break;default:s=r}Bo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?td(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zr(t,l):typeof l=="number"&&zr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&Va(t,i,l,o))}switch(n){case"input":vs(t),Jl(t,r,!1);break;case"textarea":vs(t),Xl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=si)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)bh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=dn(Xr.current),dn(dt.current),js(e)){if(r=e.stateNode,n=e.memoizedProps,r[ut]=e,(i=r.nodeValue!==n)&&(t=De,t!==null))switch(t.tag){case 3:Es(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ut]=e,e.stateNode=r}return we(e),null;case 13:if(G(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ae!==null&&e.mode&1&&!(e.flags&128))Bd(),Xn(),e.flags|=98560,i=!1;else if(i=js(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ut]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),i=!1}else nt!==null&&(ka(nt),nt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ce===0&&(ce=3):jl())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return er(),ma(t,e),t===null&&Gr(e.stateNode.containerInfo),we(e),null;case 10:return ul(e.type._context),we(e),null;case 17:return Le(e.type)&&ii(),we(e),null;case 19:if(G(Y),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yr(i,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hi(t),o!==null){for(e.flags|=128,yr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>nr&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304)}else{if(!r)if(t=hi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return we(e),null}else 2*ne()-i.renderingStartTime>nr&&n!==1073741824&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,n=Y.current,K(Y,r?n&1|2:n&1),e):(we(e),null);case 22:case 23:return El(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$e&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Dm(t,e){switch(il(e),e.tag){case 1:return Le(e.type)&&ii(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),G(Re),G(xe),pl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fl(e),null;case 13:if(G(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Y),null;case 4:return er(),null;case 10:return ul(e.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Ts=!1,_e=!1,Um=typeof WeakSet=="function"?WeakSet:Set,O=null;function Bn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function ga(t,e,n){try{n()}catch(r){ee(t,e,r)}}var zu=!1;function Mm(t,e){if(Zo=ti,t=Td(),rl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++c===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:t,selectionRange:n},ti=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,S=_.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ze(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=zu,zu=!1,_}function Ir(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ga(e,n,i)}s=s.next}while(s!==r)}}function Li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function va(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Eh(t){var e=t.alternate;e!==null&&(t.alternate=null,Eh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ut],delete e[Jr],delete e[ra],delete e[xm],delete e[Sm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jh(t){return t.tag===5||t.tag===3||t.tag===4}function Bu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ya(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}function wa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wa(t,e,n),t=t.sibling;t!==null;)wa(t,e,n),t=t.sibling}var me=null,et=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Ch(t,e,n),n=n.sibling}function Ch(t,e,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:_e||Bn(n,e);case 6:var r=me,s=et;me=null,Nt(t,e,n),me=r,et=s,me!==null&&(et?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(et?(t=me,n=n.stateNode,t.nodeType===8?lo(t.parentNode,n):t.nodeType===1&&lo(t,n),Hr(t)):lo(me,n.stateNode));break;case 4:r=me,s=et,me=n.stateNode.containerInfo,et=!0,Nt(t,e,n),me=r,et=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ga(n,e,o),s=s.next}while(s!==r)}Nt(t,e,n);break;case 1:if(!_e&&(Bn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ee(n,e,a)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Nt(t,e,n),_e=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function Wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Um),e.forEach(function(r){var s=Gm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:me=a.stateNode,et=!1;break e;case 3:me=a.stateNode.containerInfo,et=!0;break e;case 4:me=a.stateNode.containerInfo,et=!0;break e}a=a.return}if(me===null)throw Error(N(160));Ch(i,o,s),me=null,et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ee(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nh(e,t),e=e.sibling}function Nh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),ot(t),r&4){try{Ir(3,t,t.return),Li(3,t)}catch(x){ee(t,t.return,x)}try{Ir(5,t,t.return)}catch(x){ee(t,t.return,x)}}break;case 1:Ye(e,t),ot(t),r&512&&n!==null&&Bn(n,n.return);break;case 5:if(Ye(e,t),ot(t),r&512&&n!==null&&Bn(n,n.return),t.flags&32){var s=t.stateNode;try{zr(s,"")}catch(x){ee(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jc(s,i),Wo(a,o);var u=Wo(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?td(s,f):c==="dangerouslySetInnerHTML"?Zc(s,f):c==="children"?zr(s,f):Va(s,c,f,u)}switch(a){case"input":Uo(s,i);break;case"textarea":Yc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vn(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jr]=i}catch(x){ee(t,t.return,x)}}break;case 6:if(Ye(e,t),ot(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ee(t,t.return,x)}}break;case 3:if(Ye(e,t),ot(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(e.containerInfo)}catch(x){ee(t,t.return,x)}break;case 4:Ye(e,t),ot(t);break;case 13:Ye(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kl=ne())),r&4&&Wu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(_e=(u=_e)||c,Ye(e,t),_e=u):Ye(e,t),ot(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(f=O=c;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ir(4,m,m.return);break;case 1:Bn(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){ee(r,n,x)}}break;case 5:Bn(m,m.return);break;case 22:if(m.memoizedState!==null){Hu(f);continue}}y!==null?(y.return=m,O=y):Hu(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ed("display",o))}catch(x){ee(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ee(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(e,t),ot(t),r&4&&Wu(t);break;case 21:break;default:Ye(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zr(s,""),r.flags&=-33);var i=Bu(t);wa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bu(t);ya(t,a,o);break;default:throw Error(N(161))}}catch(l){ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fm(t,e,n){O=t,Th(t)}function Th(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_e;a=Ts;var u=_e;if(Ts=o,(_e=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Ku(s):l!==null?(l.return=o,O=l):Ku(s);for(;i!==null;)O=i,Th(i),i=i.sibling;O=s,Ts=a,_e=u}Vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Vu(t)}}function Vu(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||Li(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ze(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Nu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Hr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_e||e.flags&512&&va(e)}catch(m){ee(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Hu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Ku(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Li(4,e)}catch(l){ee(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ee(e,s,l)}}var i=e.return;try{va(e)}catch(l){ee(e,i,l)}break;case 5:var o=e.return;try{va(e)}catch(l){ee(e,o,l)}}}catch(l){ee(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var zm=Math.ceil,mi=jt.ReactCurrentDispatcher,xl=jt.ReactCurrentOwner,Qe=jt.ReactCurrentBatchConfig,z=0,pe=null,ie=null,ge=0,$e=0,Wn=Yt(0),ce=0,ns=null,vn=0,Ii=0,Sl=0,$r=null,Te=null,kl=0,nr=1/0,gt=null,gi=!1,_a=null,Vt=null,Ps=!1,Dt=null,vi=0,Ar=0,xa=null,Qs=-1,Gs=0;function Ee(){return z&6?ne():Qs!==-1?Qs:Qs=ne()}function Ht(t){return t.mode&1?z&2&&ge!==0?ge&-ge:bm.transition!==null?(Gs===0&&(Gs=fd()),Gs):(t=W,t!==0||(t=window.event,t=t===void 0?16:_d(t.type)),t):1}function st(t,e,n,r){if(50<Ar)throw Ar=0,xa=null,Error(N(185));as(t,n,r),(!(z&2)||t!==pe)&&(t===pe&&(!(z&2)&&(Ii|=n),ce===4&&It(t,ge)),Ie(t,r),n===1&&z===0&&!(e.mode&1)&&(nr=ne()+500,Pi&&Xt()))}function Ie(t,e){var n=t.callbackNode;bp(t,e);var r=ei(t,t===pe?ge:0);if(r===0)n!==null&&tu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tu(n),e===1)t.tag===0?km(Qu.bind(null,t)):Md(Qu.bind(null,t)),wm(function(){!(z&6)&&Xt()}),n=null;else{switch(pd(r)){case 1:n=qa;break;case 4:n=dd;break;case 16:n=Zs;break;case 536870912:n=hd;break;default:n=Zs}n=Dh(n,Ph.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ph(t,e){if(Qs=-1,Gs=0,z&6)throw Error(N(327));var n=t.callbackNode;if(qn()&&t.callbackNode!==n)return null;var r=ei(t,t===pe?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yi(t,r);else{e=r;var s=z;z|=2;var i=Rh();(pe!==t||ge!==e)&&(gt=null,nr=ne()+500,hn(t,e));do try{Vm();break}catch(a){Oh(t,a)}while(1);ll(),mi.current=i,z=s,ie!==null?e=0:(pe=null,ge=0,e=ce)}if(e!==0){if(e===2&&(s=Go(t),s!==0&&(r=s,e=Sa(t,s))),e===1)throw n=ns,hn(t,0),It(t,r),Ie(t,ne()),n;if(e===6)It(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bm(s)&&(e=yi(t,r),e===2&&(i=Go(t),i!==0&&(r=i,e=Sa(t,i))),e===1))throw n=ns,hn(t,0),It(t,r),Ie(t,ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:on(t,Te,gt);break;case 3:if(It(t,r),(r&130023424)===r&&(e=kl+500-ne(),10<e)){if(ei(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=na(on.bind(null,t,Te,gt),e);break}on(t,Te,gt);break;case 4:if(It(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-rt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zm(r/1960))-r,10<r){t.timeoutHandle=na(on.bind(null,t,Te,gt),r);break}on(t,Te,gt);break;case 5:on(t,Te,gt);break;default:throw Error(N(329))}}}return Ie(t,ne()),t.callbackNode===n?Ph.bind(null,t):null}function Sa(t,e){var n=$r;return t.current.memoizedState.isDehydrated&&(hn(t,e).flags|=256),t=yi(t,e),t!==2&&(e=Te,Te=n,e!==null&&ka(e)),t}function ka(t){Te===null?Te=t:Te.push.apply(Te,t)}function Bm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~Sl,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rt(e),r=1<<n;t[n]=-1,e&=~r}}function Qu(t){if(z&6)throw Error(N(327));qn();var e=ei(t,0);if(!(e&1))return Ie(t,ne()),null;var n=yi(t,e);if(t.tag!==0&&n===2){var r=Go(t);r!==0&&(e=r,n=Sa(t,r))}if(n===1)throw n=ns,hn(t,0),It(t,e),Ie(t,ne()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,on(t,Te,gt),Ie(t,ne()),null}function bl(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(nr=ne()+500,Pi&&Xt())}}function yn(t){Dt!==null&&Dt.tag===0&&!(z&6)&&qn();var e=z;z|=1;var n=Qe.transition,r=W;try{if(Qe.transition=null,W=1,t)return t()}finally{W=r,Qe.transition=n,z=e,!(z&6)&&Xt()}}function El(){$e=Wn.current,G(Wn)}function hn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ym(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ii();break;case 3:er(),G(Re),G(xe),pl();break;case 5:fl(r);break;case 4:er();break;case 13:G(Y);break;case 19:G(Y);break;case 10:ul(r.type._context);break;case 22:case 23:El()}n=n.return}if(pe=t,ie=t=Kt(t.current,null),ge=$e=e,ce=0,ns=null,Sl=Ii=vn=0,Te=$r=null,cn!==null){for(e=0;e<cn.length;e++)if(n=cn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cn=null}return t}function Oh(t,e){do{var n=ie;try{if(ll(),Vs.current=pi,fi){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fi=!1}if(gn=0,fe=ue=X=null,Lr=!1,Zr=0,xl.current=null,n===null||n.return===null){ce=1,ns=e,ie=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Iu(o);if(y!==null){y.flags&=-257,$u(y,o,a,i,e),y.mode&1&&Lu(i,u,e),e=y,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){Lu(i,u,e),jl();break e}l=Error(N(426))}}else if(J&&a.mode&1){var S=Iu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$u(S,o,a,i,e),ol(tr(l,a));break e}}i=l=tr(l,a),ce!==4&&(ce=2),$r===null?$r=[i]:$r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=ph(i,l,e);Cu(i,g);break e;case 1:a=l;var d=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vt===null||!Vt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=mh(i,a,e);Cu(i,w);break e}}i=i.return}while(i!==null)}Ih(n)}catch(E){e=E,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(1)}function Rh(){var t=mi.current;return mi.current=pi,t===null?pi:t}function jl(){(ce===0||ce===3||ce===2)&&(ce=4),pe===null||!(vn&268435455)&&!(Ii&268435455)||It(pe,ge)}function yi(t,e){var n=z;z|=2;var r=Rh();(pe!==t||ge!==e)&&(gt=null,hn(t,e));do try{Wm();break}catch(s){Oh(t,s)}while(1);if(ll(),z=n,mi.current=r,ie!==null)throw Error(N(261));return pe=null,ge=0,ce}function Wm(){for(;ie!==null;)Lh(ie)}function Vm(){for(;ie!==null&&!mp();)Lh(ie)}function Lh(t){var e=Ah(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Ih(t):ie=e,xl.current=null}function Ih(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dm(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ce=6,ie=null;return}}else if(n=Am(n,e,$e),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ce===0&&(ce=5)}function on(t,e,n){var r=W,s=Qe.transition;try{Qe.transition=null,W=1,Hm(t,e,n,r)}finally{Qe.transition=s,W=r}return null}function Hm(t,e,n,r){do qn();while(Dt!==null);if(z&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ep(t,i),t===pe&&(ie=pe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,Dh(Zs,function(){return qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=W;W=1;var a=z;z|=4,xl.current=null,Mm(t,n),Nh(n,t),dm(ea),ti=!!Zo,ea=Zo=null,t.current=n,Fm(n),gp(),z=a,W=o,Qe.transition=i}else t.current=n;if(Ps&&(Ps=!1,Dt=t,vi=s),i=t.pendingLanes,i===0&&(Vt=null),wp(n.stateNode),Ie(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gi)throw gi=!1,t=_a,_a=null,t;return vi&1&&t.tag!==0&&qn(),i=t.pendingLanes,i&1?t===xa?Ar++:(Ar=0,xa=t):Ar=0,Xt(),null}function qn(){if(Dt!==null){var t=pd(vi),e=Qe.transition,n=W;try{if(Qe.transition=null,W=16>t?16:t,Dt===null)var r=!1;else{if(t=Dt,Dt=null,vi=0,z&6)throw Error(N(331));var s=z;for(z|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Ir(8,c,i)}var f=c.child;if(f!==null)f.return=c,O=f;else for(;O!==null;){c=O;var m=c.sibling,y=c.return;if(Eh(c),c===u){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ir(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var d=t.current;for(O=d;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=d;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Li(9,a)}}catch(E){ee(a,a.return,E)}if(a===o){O=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,O=w;break e}O=a.return}}if(z=s,Xt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ei,t)}catch{}r=!0}return r}finally{W=n,Qe.transition=e}}return!1}function Gu(t,e,n){e=tr(n,e),e=ph(t,e,1),t=Wt(t,e,1),e=Ee(),t!==null&&(as(t,1,e),Ie(t,e))}function ee(t,e,n){if(t.tag===3)Gu(t,t,n);else for(;e!==null;){if(e.tag===3){Gu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){t=tr(n,t),t=mh(e,t,1),e=Wt(e,t,1),t=Ee(),e!==null&&(as(e,1,t),Ie(e,t));break}}e=e.return}}function Km(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(ge&n)===n&&(ce===4||ce===3&&(ge&130023424)===ge&&500>ne()-kl?hn(t,0):Sl|=n),Ie(t,e)}function $h(t,e){e===0&&(t.mode&1?(e=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):e=1);var n=Ee();t=bt(t,e),t!==null&&(as(t,e,n),Ie(t,n))}function Qm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$h(t,n)}function Gm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),$h(t,n)}var Ah;Ah=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,$m(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,J&&e.flags&1048576&&Fd(e,li,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ks(t,e),t=e.pendingProps;var s=Yn(e,xe.current);Gn(e,n),s=gl(null,e,r,t,s,n);var i=vl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(r)?(i=!0,oi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dl(e),s.updater=Ri,e.stateNode=s,s._reactInternals=e,ua(e,r,t,n),e=ha(null,e,r,!0,i,n)):(e.tag=0,J&&i&&sl(e),be(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ks(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Jm(r),t=Ze(r,t),s){case 0:e=da(null,e,r,t,n);break e;case 1:e=Uu(null,e,r,t,n);break e;case 11:e=Au(null,e,r,t,n);break e;case 14:e=Du(null,e,r,Ze(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),da(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Uu(t,e,r,s,n);case 3:e:{if(wh(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Kd(t,e),di(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tr(Error(N(423)),e),e=Mu(t,e,r,n,s);break e}else if(r!==s){s=tr(Error(N(424)),e),e=Mu(t,e,r,n,s);break e}else for(Ae=Bt(e.stateNode.containerInfo.firstChild),De=e,J=!0,nt=null,n=Vd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){e=Et(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return Qd(e),t===null&&oa(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ta(r,s)?o=null:i!==null&&ta(r,i)&&(e.flags|=32),yh(t,e),be(t,e,o,n),e.child;case 6:return t===null&&oa(e),null;case 13:return _h(t,e,n);case 4:return hl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zn(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Au(t,e,r,s,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(ui,r._currentValue),r._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!Re.current){e=Et(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=xt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),aa(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),aa(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gn(e,n),s=qe(s),r=r(s),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,s=Ze(r,e.pendingProps),s=Ze(r.type,s),Du(t,e,r,s,n);case 15:return gh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ze(r,s),Ks(t,e),e.tag=1,Le(r)?(t=!0,oi(e)):t=!1,Gn(e,n),fh(e,r,s),ua(e,r,s,n),ha(null,e,r,!0,t,n);case 19:return xh(t,e,n);case 22:return vh(t,e,n)}throw Error(N(156,e.tag))};function Dh(t,e){return cd(t,e)}function qm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new qm(t,e,n,r)}function Cl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jm(t){if(typeof t=="function")return Cl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ka)return 11;if(t===Qa)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ln:return fn(n.children,s,i,e);case Ha:o=8,s|=8;break;case Lo:return t=Ke(12,n,e,s|2),t.elementType=Lo,t.lanes=i,t;case Io:return t=Ke(13,n,e,s),t.elementType=Io,t.lanes=i,t;case $o:return t=Ke(19,n,e,s),t.elementType=$o,t.lanes=i,t;case Qc:return $i(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hc:o=10;break e;case Kc:o=9;break e;case Ka:o=11;break e;case Qa:o=14;break e;case Ot:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ke(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fn(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function $i(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=Qc,t.lanes=n,t.stateNode={isHidden:!1},t}function vo(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function yo(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ym(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nl(t,e,n,r,s,i,o,a,l){return t=new Ym(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(i),t}function Xm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Uh(t){if(!t)return qt;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Le(n))return Ud(t,n,e)}return e}function Mh(t,e,n,r,s,i,o,a,l){return t=Nl(n,r,!0,t,s,i,o,a,l),t.context=Uh(null),n=t.current,r=Ee(),s=Ht(n),i=xt(r,s),i.callback=e??null,Wt(n,i,s),t.current.lanes=s,as(t,s,r),Ie(t,r),t}function Ai(t,e,n,r){var s=e.current,i=Ee(),o=Ht(s);return n=Uh(n),e.context===null?e.context=n:e.pendingContext=n,e=xt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wt(s,e,o),t!==null&&(st(t,s,o,i),Ws(t,s,o)),o}function wi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tl(t,e){qu(t,e),(t=t.alternate)&&qu(t,e)}function Zm(){return null}var Fh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pl(t){this._internalRoot=t}Di.prototype.render=Pl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ai(t,e,null,null)};Di.prototype.unmount=Pl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yn(function(){Ai(null,t,null,null)}),e[kt]=null}};function Di(t){this._internalRoot=t}Di.prototype.unstable_scheduleHydration=function(t){if(t){var e=vd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lt.length&&e!==0&&e<Lt[n].priority;n++);Lt.splice(n,0,t),n===0&&wd(t)}};function Ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ui(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function eg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wi(o);i.call(u)}}var o=Mh(e,r,t,0,null,!1,!1,"",Ju);return t._reactRootContainer=o,t[kt]=o.current,Gr(t.nodeType===8?t.parentNode:t),yn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wi(l);a.call(u)}}var l=Nl(t,0,!1,null,null,!1,!1,"",Ju);return t._reactRootContainer=l,t[kt]=l.current,Gr(t.nodeType===8?t.parentNode:t),yn(function(){Ai(e,l,n,r)}),l}function Mi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wi(o);a.call(l)}}Ai(e,o,t,s)}else o=eg(n,e,t,s,r);return wi(o)}md=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=br(e.pendingLanes);n!==0&&(Ja(e,n|1),Ie(e,ne()),!(z&6)&&(nr=ne()+500,Xt()))}break;case 13:yn(function(){var r=bt(t,1);if(r!==null){var s=Ee();st(r,t,1,s)}}),Tl(t,1)}};Ya=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=Ee();st(e,t,134217728,n)}Tl(t,134217728)}};gd=function(t){if(t.tag===13){var e=Ht(t),n=bt(t,e);if(n!==null){var r=Ee();st(n,t,e,r)}Tl(t,e)}};vd=function(){return W};yd=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ho=function(t,e,n){switch(e){case"input":if(Uo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ti(r);if(!s)throw Error(N(90));qc(r),Uo(r,s)}}}break;case"textarea":Yc(t,n);break;case"select":e=n.value,e!=null&&Vn(t,!!n.multiple,e,!1)}};sd=bl;id=yn;var tg={usingClientEntryPoint:!1,Events:[us,Dn,Ti,nd,rd,bl]},wr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ng={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ld(t),t===null?null:t.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ei=Os.inject(ng),ct=Os}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(e))throw Error(N(200));return Xm(t,e,null,n)};Fe.createRoot=function(t,e){if(!Ol(t))throw Error(N(299));var n=!1,r="",s=Fh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nl(t,1,!1,null,null,n,!1,r,s),t[kt]=e.current,Gr(t.nodeType===8?t.parentNode:t),new Pl(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=ld(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return yn(t)};Fe.hydrate=function(t,e,n){if(!Ui(e))throw Error(N(200));return Mi(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!Ol(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mh(e,null,t,1,n??null,s,!1,i,o),t[kt]=e.current,Gr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Di(e)};Fe.render=function(t,e,n){if(!Ui(e))throw Error(N(200));return Mi(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!Ui(t))throw Error(N(40));return t._reactRootContainer?(yn(function(){Mi(null,null,t,!1,function(){t._reactRootContainer=null,t[kt]=null})}),!0):!1};Fe.unstable_batchedUpdates=bl;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ui(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Mi(t,e,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(t){console.error(t)}}zh(),zc.exports=Fe;var rg=zc.exports,Yu=rg;Oo.createRoot=Yu.createRoot,Oo.hydrateRoot=Yu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rs.apply(this,arguments)}var Ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ut||(Ut={}));const Xu="popstate";function sg(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ba("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_i(s)}return og(e,n,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ig(){return Math.random().toString(36).substr(2,8)}function Zu(t,e){return{usr:t.state,key:t.key,idx:e}}function ba(t,e,n,r){return n===void 0&&(n=null),rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ar(e):e,{state:n,key:e&&e.key||r||ig()})}function _i(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ar(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function og(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ut.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(rs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Ut.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:x.location,delta:g})}function m(S,g){a=Ut.Push;let d=ba(x.location,S,g);n&&n(d,S),u=c()+1;let p=Zu(d,u),w=x.createHref(d);try{o.pushState(p,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}i&&l&&l({action:a,location:x.location,delta:1})}function y(S,g){a=Ut.Replace;let d=ba(x.location,S,g);n&&n(d,S),u=c();let p=Zu(d,u),w=x.createHref(d);o.replaceState(p,"",w),i&&l&&l({action:a,location:x.location,delta:0})}function _(S){let g=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof S=="string"?S:_i(S);return d=d.replace(/ $/,"%20"),re(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let x={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xu,f),l=S,()=>{s.removeEventListener(Xu,f),l=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let g=_(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(S){return o.go(S)}};return x}var ec;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ec||(ec={}));function ag(t,e,n){return n===void 0&&(n="/"),lg(t,e,n,!1)}function lg(t,e,n,r){let s=typeof e=="string"?ar(e):e,i=Rl(s.pathname||"/",n);if(i==null)return null;let o=Wh(t);ug(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_g(i);a=yg(o[l],u,r)}return a}function Wh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qt([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wh(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gg(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Vh(i.path))s(i,o,l)}),e}function Vh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Vh(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ug(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vg(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cg=/^:[\w-]+$/,dg=3,hg=2,fg=1,pg=10,mg=-2,tc=t=>t==="*";function gg(t,e){let n=t.split("/"),r=n.length;return n.some(tc)&&(r+=mg),e&&(r+=hg),n.filter(s=>!tc(s)).reduce((s,i)=>s+(cg.test(i)?dg:i===""?fg:pg),r)}function vg(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yg(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=nc({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=nc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Qt([i,f.pathname]),pathnameBase:bg(Qt([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Qt([i,f.pathnameBase]))}return o}function nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wg(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:m,isOptional:y}=c;if(m==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[f];return y&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function wg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _g(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ar(t):t;return{pathname:n?n.startsWith("/")?n:Sg(n,e):e,search:Eg(r),hash:jg(s)}}function Sg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ll(t,e){let n=kg(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Il(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ar(t):(s=rs({},t),re(!s.pathname||!s.pathname.includes("?"),wo("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),wo("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),wo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=xg(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qt=t=>t.join("/").replace(/\/\/+/g,"/"),bg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Eg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hh=["post","put","patch","delete"];new Set(Hh);const Ng=["get",...Hh];new Set(Ng);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}const $l=b.createContext(null),Tg=b.createContext(null),Zt=b.createContext(null),Fi=b.createContext(null),en=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Kh=b.createContext(null);function Pg(t,e){let{relative:n}=e===void 0?{}:e;lr()||re(!1);let{basename:r,navigator:s}=b.useContext(Zt),{hash:i,pathname:o,search:a}=qh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qt([r,o])),s.createHref({pathname:l,search:a,hash:i})}function lr(){return b.useContext(Fi)!=null}function ur(){return lr()||re(!1),b.useContext(Fi).location}function Qh(t){b.useContext(Zt).static||b.useLayoutEffect(t)}function Gh(){let{isDataRoute:t}=b.useContext(en);return t?Wg():Og()}function Og(){lr()||re(!1);let t=b.useContext($l),{basename:e,future:n,navigator:r}=b.useContext(Zt),{matches:s}=b.useContext(en),{pathname:i}=ur(),o=JSON.stringify(Ll(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return Qh(()=>{a.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Il(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qt([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,i,t])}function qh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Zt),{matches:s}=b.useContext(en),{pathname:i}=ur(),o=JSON.stringify(Ll(s,r.v7_relativeSplatPath));return b.useMemo(()=>Il(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Rg(t,e){return Lg(t,e)}function Lg(t,e,n,r){lr()||re(!1);let{navigator:s}=b.useContext(Zt),{matches:i}=b.useContext(en),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ur(),c;if(e){var f;let S=typeof e=="string"?ar(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||re(!1),c=S}else c=u;let m=c.pathname||"/",y=m;if(l!=="/"){let S=l.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=ag(t,{pathname:y}),x=Ug(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Qt([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Qt([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&x?b.createElement(Fi.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ut.Pop}},x):x}function Ig(){let t=Bg(),e=Cg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,i)}const $g=b.createElement(Ig,null);class Ag extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(en.Provider,{value:this.props.routeContext},b.createElement(Kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dg(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext($l);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(en.Provider,{value:e},r)}function Ug(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||re(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:y}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,m)=>{let y,_=!1,x=null,S=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||$g,l&&(u<0&&m===0?(Vg("route-fallback",!1),_=!0,S=null):u===m&&(_=!0,S=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,m+1)),d=()=>{let p;return y?p=x:_?p=S:f.route.Component?p=b.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=c,b.createElement(Dg,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:p})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(Ag,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var Jh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jh||{}),xi=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xi||{});function Mg(t){let e=b.useContext($l);return e||re(!1),e}function Fg(t){let e=b.useContext(Tg);return e||re(!1),e}function zg(t){let e=b.useContext(en);return e||re(!1),e}function Yh(t){let e=zg(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function Bg(){var t;let e=b.useContext(Kh),n=Fg(xi.UseRouteError),r=Yh(xi.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Wg(){let{router:t}=Mg(Jh.UseNavigateStable),e=Yh(xi.UseNavigateStable),n=b.useRef(!1);return Qh(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ss({fromRouteId:e},i)))},[t,e])}const rc={};function Vg(t,e,n){!e&&!rc[t]&&(rc[t]=!0)}function Hg(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function _o(t){let{to:e,replace:n,state:r,relative:s}=t;lr()||re(!1);let{future:i,static:o}=b.useContext(Zt),{matches:a}=b.useContext(en),{pathname:l}=ur(),u=Gh(),c=Il(e,Ll(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function jr(t){re(!1)}function Kg(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ut.Pop,navigator:i,static:o=!1,future:a}=t;lr()&&re(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ss({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ar(r));let{pathname:c="/",search:f="",hash:m="",state:y=null,key:_="default"}=r,x=b.useMemo(()=>{let S=Rl(c,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:y,key:_},navigationType:s}},[l,c,f,m,y,_,s]);return x==null?null:b.createElement(Zt.Provider,{value:u},b.createElement(Fi.Provider,{children:n,value:x}))}function Qg(t){let{children:e,location:n}=t;return Rg(Ea(e),n)}new Promise(()=>{});function Ea(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Ea(r.props.children,i));return}r.type!==jr&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ea(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}function Gg(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qg(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jg(t,e){return t.button===0&&(!e||e==="_self")&&!qg(t)}const Yg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xg="6";try{window.__reactRouterVersion=Xg}catch{}const Zg="startTransition",sc=Kf[Zg];function e0(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=sg({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=b.useCallback(f=>{u&&sc?sc(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(c),[o,c]),b.useEffect(()=>Hg(r),[r]),b.createElement(Kg,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,m=Gg(e,Yg),{basename:y}=b.useContext(Zt),_,x=!1;if(typeof u=="string"&&n0.test(u)&&(_=u,t0))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),E=Rl(w.pathname,y);w.origin===p.origin&&E!=null?u=E+w.search+w.hash:x=!0}catch{}let S=Pg(u,{relative:s}),g=r0(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:f});function d(p){r&&r(p),p.defaultPrevented||g(p)}return b.createElement("a",ja({},m,{href:_||S,onClick:x||i?r:d,ref:n,target:l}))});var ic;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var oc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oc||(oc={}));function r0(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Gh(),u=ur(),c=qh(t,{relative:o});return b.useCallback(f=>{if(Jg(f,n)){f.preventDefault();let m=r!==void 0?r:_i(u)===_i(c);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,r,s,n,t,i,o,a])}const s0="modulepreload",i0=function(t){return"/"+t},ac={},ds=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=i0(i),i in ac)return;ac[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const f=s[c];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":s0,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},o0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>cr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Al extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class a0 extends Al{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lc extends Al{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uc extends Al{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ca;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ca||(Ca={}));var l0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class u0{constructor(e,{headers:n={},customFetch:r,region:s=Ca.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=o0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return l0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new a0(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new lc(f);if(!f.ok)throw new uc(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield f.json():y==="application/octet-stream"?_=yield f.blob():y==="text/event-stream"?_=f:y==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof uc||s instanceof lc?s.context:void 0}}})}}var Pe={},Dl={},zi={},hs={},Bi={},Wi={},c0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rr=c0();const d0=rr.fetch,Xh=rr.fetch.bind(rr),Zh=rr.Headers,h0=rr.Request,f0=rr.Response,cr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zh,Request:h0,Response:f0,default:Xh,fetch:d0},Symbol.toStringTag,{value:"Module"})),p0=Pf(cr);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});let m0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vi.default=m0;var ef=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const g0=ef(p0),v0=ef(Vi);let y0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=g0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,f=null,m=null,y=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const d=await i.text();d===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=d:f=JSON.parse(d))}const S=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,y=406,_="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(f=[],c=null,y=200,_="OK")}catch{i.status===404&&S===""?(y=204,_="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,y=200,_="OK"),c&&this.shouldThrowOnError)throw new v0.default(c)}return{error:c,data:f,count:m,status:y,statusText:_}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Wi.default=y0;var w0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const _0=w0(Wi);let x0=class extends _0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Bi.default=x0;var S0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});const k0=S0(Bi);let b0=class extends k0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};hs.default=b0;var E0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});const _r=E0(hs);let j0=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new _r.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};zi.default=j0;var tf=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dl,"__esModule",{value:!0});const C0=tf(zi),N0=tf(hs);let T0=class nf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new C0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new N0.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Dl.default=T0;var dr=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const rf=dr(Dl);Pe.PostgrestClient=rf.default;const sf=dr(zi);Pe.PostgrestQueryBuilder=sf.default;const of=dr(hs);Pe.PostgrestFilterBuilder=of.default;const af=dr(Bi);Pe.PostgrestTransformBuilder=af.default;const lf=dr(Wi);Pe.PostgrestBuilder=lf.default;const uf=dr(Vi);Pe.PostgrestError=uf.default;var P0=Pe.default={PostgrestClient:rf.default,PostgrestQueryBuilder:sf.default,PostgrestFilterBuilder:of.default,PostgrestTransformBuilder:af.default,PostgrestBuilder:lf.default,PostgrestError:uf.default};const{PostgrestClient:O0,PostgrestQueryBuilder:tw,PostgrestFilterBuilder:nw,PostgrestTransformBuilder:rw,PostgrestBuilder:sw,PostgrestError:iw}=P0;class R0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const L0="2.15.5",I0=`realtime-js/${L0}`,$0="1.0.0",Na=1e4,A0=1e3,D0=100;var Dr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dr||(Dr={}));var ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ae||(ae={}));var tt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tt||(tt={}));var Ta;(function(t){t.websocket="websocket"})(Ta||(Ta={}));var ln;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ln||(ln={}));class U0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class cf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const cc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=M0(o,t,e,s),i),{})},M0=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?df(i,o):Pa(o)},df=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W0(e,n)}switch(t){case H.bool:return F0(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return z0(e);case H.json:case H.jsonb:return B0(e);case H.timestamp:return V0(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Pa(e);default:return Pa(e)}},Pa=t=>t,F0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},z0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>df(e,a))}return t},V0=t=>typeof t=="string"?t.replace(" ","T"):t,hf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class xo{constructor(e,n,r={},s=Na){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dc||(dc={}));class Ur{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ur.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ur.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ur.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const m=c.map(S=>S.presence_ref),y=f.map(S=>S.presence_ref),_=c.filter(S=>y.indexOf(S.presence_ref)<0),x=f.filter(S=>m.indexOf(S.presence_ref)<0);_.length>0&&(a[u]=_),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(y=>y.presence_ref),m=c.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...m)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hc||(hc={}));var Mr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mr||(Mr={}));var vt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Ul{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xo(this,tt.join,this.params,this.timeout),this.rejoinTimer=new cf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ur(this),this.broadcastEndpointURL=hf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Mr.PRESENCE]&&this.bindings[Mr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(vt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(vt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,g=[];for(let d=0;d<S;d++){const p=x[d],{filter:{event:w,schema:E,table:j,filter:C}}=p,T=y&&y[d];if(T&&T.event===w&&T.schema===E&&T.table===j&&T.filter===C)g.push(Object.assign(Object.assign({},p),{id:T.id}));else{this.unsubscribe(),this.state=ae.errored,e==null||e(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(vt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ae.errored,e==null||e(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ae.joined&&e===Mr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ae.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new xo(this,tt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>D0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=tt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var _,x,S;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(x=y.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var _,x,S,g,d,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,E=(_=y.filter)===null||_===void 0?void 0:_.event;return w&&((x=n.ids)===null||x===void 0?void 0:x.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(d=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:x,table:S,commit_timestamp:g,type:d,errors:p}=_;m=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:g,eventType:d,new:{},old:{},errors:p}),this._getPayloadRecords(_))}y.callback(m,r)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ul.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tt.close,{},e)}_onError(e){this._on(tt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cc(e.columns,e.old_record)),n}}const So=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},H0=[1e3,2e3,5e3,1e4],K0=1e4,Q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Na,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=So,this.ref=0,this.reconnectTimer=null,this.logger=So,this.conn=null,this.sendBuffer=[],this.serializer=new U0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ds(()=>Promise.resolve().then(()=>cr),void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ta.websocket}`,this.httpEndpoint=hf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return ln.Connecting;case Dr.open:return ln.Open;case Dr.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ul(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(A0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Q0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:I0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(tt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Na,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ls.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:So,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>H0[f-1]||K0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class q0 extends Ml{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oa extends Ml{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var J0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>cr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Y0=()=>J0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>cr),void 0)).Response:Response}),Ra=t=>{if(Array.isArray(t))return t.map(n=>Ra(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ra(r)}),e},X0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z0=(t,e,n)=>xn(void 0,void 0,void 0,function*(){const r=yield Y0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new q0(ko(s),i,o))}).catch(s=>{e(new Oa(ko(s),s))}):e(new Oa(ko(t),t))}),ev=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(X0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function fs(t,e,n,r,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ev(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Z0(l,a,r))})})}function Si(t,e,n,r){return xn(this,void 0,void 0,function*(){return fs(t,"GET",e,n,r)})}function lt(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"POST",e,r,s,n)})}function La(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"PUT",e,r,s,n)})}function tv(t,e,n,r){return xn(this,void 0,void 0,function*(){return fs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pf(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"DELETE",e,r,s,n)})}var ke=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const nv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rv{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ff(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?La:lt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:fc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield La(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(le(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}download(e,n){return ke(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Si(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(le(a))return{data:null,error:a};throw a}})}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Si(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ra(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield tv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r)&&r instanceof Oa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nv),n),{prefix:e||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}listV2(e,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const sv="2.12.1",iv={"X-Client-Info":`storage-js/${sv}`};var bn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ov{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},iv),n),this.fetch=ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return bn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return bn(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return bn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return bn(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return bn(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}}class av extends ov{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new rv(this.url,this.headers,e,this.fetch)}}const lv="2.57.4";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const uv={"X-Client-Info":`supabase-js-${Cr}/${lv}`},cv={headers:uv},dv={schema:"public"},hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fv={};var pv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const mv=t=>{let e;return t?e=t:typeof fetch>"u"?e=Xh:e=fetch,(...n)=>e(...n)},gv=()=>typeof Headers>"u"?Zh:Headers,vv=(t,e,n)=>{const r=mv(n),s=gv();return(i,o)=>pv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var yv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function wv(t){return t.endsWith("/")?t:t+"/"}function _v(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:f}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yv(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function xv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mf="2.71.1",Pn=30*1e3,Ia=3,bo=Ia*Pn,Sv="http://localhost:9999",kv="supabase.auth.token",bv={"X-Client-Info":`gotrue-js/${mf}`},$a="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ev=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jv=10*60*1e3;class Fl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cv extends Fl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Nv(t){return A(t)&&t.name==="AuthApiError"}class vf extends Fl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tn extends Fl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pt extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tv(t){return A(t)&&t.name==="AuthSessionMissingError"}class Is extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends tn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pv(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class pc extends tn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Aa extends tn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Eo(t){return A(t)&&t.name==="AuthRetryableFetchError"}class mc extends tn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Da extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gc=` 	
\r=`.split(""),Ov=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gc.length;e+=1)t[gc[e].charCodeAt(0)]=-2;for(let e=0;e<ki.length;e+=1)t[ki[e].charCodeAt(0)]=e;return t})();function vc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}}function yf(t,e,n){const r=Ov[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Iv(o,r,n)};for(let o=0;o<t.length;o+=1)yf(t.charCodeAt(o),s,i);return e.join("")}function Rv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Rv(r,e)}}function Iv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $v(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)yf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Av(t){const e=[];return Lv(t,n=>e.push(n)),new Uint8Array(e)}function Dv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>vc(s,n,r)),vc(null,n,r),e.join("")}function Uv(t){return Math.round(Date.now()/1e3)+t}function Mv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},wf=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function Fv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const _f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>cr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",On=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},rn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(t,e)=>{await t.removeItem(e)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Hi.promiseConstructor=Promise;function jo(t){const e=t.split(".");if(e.length!==3)throw new Da("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ev.test(e[r]))throw new Da("JWT not in base64url format");return{header:JSON.parse(yc(e[0])),payload:JSON.parse(yc(e[1])),signature:$v(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vv(t){return("0"+t.toString(16)).substr(-2)}function Hv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Vv).join("")}async function Kv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Kv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function En(t,e,n=!1){const r=Hv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await On(t,`${e}-code-verifier`,s);const i=await Qv(r);return[i,r===i?"plain":"s256"]}const Gv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qv(t){const e=t.headers.get($a);if(!e||!e.match(Gv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(t){if(!Xv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wc(t){return JSON.parse(JSON.stringify(t))}var Zv=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const an=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ey=[502,503,504];async function _c(t){var e;if(!zv(t))throw new Aa(an(t),0);if(ey.includes(t.status))throw new Aa(an(t),t.status);let n;try{n=await t.json()}catch(i){throw new vf(an(i),i)}let r;const s=qv(t);if(s&&s.getTime()>=gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mc(an(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mc(an(n),t.status,n.weak_password.reasons);throw new Cv(an(n),t.status||500,r)}const ty=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[$a]||(i[$a]=gf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ny(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ny(t,e,n,r,s,i){const o=ty(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Aa(an(l),0)}if(a.ok||await _c(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await _c(l)}}function mt(t){var e;let n=null;oy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Uv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function xc(t){const e=mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ry(t){return{data:t,error:null}}function sy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Zv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function iy(t){return t}function oy(t){return t.access_token&&t.refresh_token&&t.expires_in}const No=["global","local","others"];var ay=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ly{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_f(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=No[0]){if(No.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${No.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ay(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$t})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iy});if(c.error)throw c.error;const f=await c.json(),m=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){jn(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$t})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jn(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jn(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jn(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jn(e.userId),jn(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}function Sc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function uy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cy extends xf{}async function dy(t,e,n){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}uy();const hy={url:Sv,storageKey:kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kc(t,e,n){return await n()}const Nn={};class is{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ly({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_f(s.fetch),this.lock=s.lock||kc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dy:this.lock=kc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Sc(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Fv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new vf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:f,options:m}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await En(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:c,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:_},xform:mt})}else if("phone"in e){const{phone:c,password:f,options:m}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:mt})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xc})}else throw new $s("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Is}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,c,f,m,y;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:S,wallet:g,statement:d,options:p}=e;let w;if(Xe())if(typeof g=="object")w=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),d?{statement:d}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(_),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:S,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Dv(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:mt});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Is}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(A(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await rn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Is}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await En(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new $s("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await En(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ry})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new $s("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<bo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(n){if(A(n))return Tv(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await En(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$t});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=jo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Xe())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pc("No code detected.");const{data:d,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new As("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let m=c+f;l&&(m=parseInt(l));const y=m-c;y*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const _=m-f;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,c);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Nv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Mv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await En(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Xe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Wv(async s=>(s>0&&await Bv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Eo(i)&&Date.now()+o-r<Pn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Xe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await rn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await On(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Co()}else if(s&&!s.user&&!s.user){const o=await rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await On(this.storage,this.storageKey,s)):s.user=Co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${bo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Eo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return Eo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await On(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=wc(s);await On(this.storage,this.storageKey,i)}else{const s=wc(n);await On(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pn}ms, refresh threshold is ${Ia} ticks`),s<=Ia&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await En(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+jv>s)return r;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=jo(r);n!=null&&n.allowExpired||Jv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=Yv(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Av(`${a}.${l}`)))throw new Da("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}is.nextInstanceID=0;const fy=is;class py extends fy{constructor(e){super(e)}}var my=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class gy{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=xv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:dv,realtime:fv,auth:Object.assign(Object.assign({},hv),{storageKey:l}),global:cv},c=_v(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=vv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new O0(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new av(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new u0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return my(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new py({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new G0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vy=(t,e,n)=>new gy(t,e,n);function yy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wy="https://uhreaansigfwkpaemvml.supabase.co",_y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVocmVhYW5zaWdmd2twYWVtdm1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3MDU5OTIsImV4cCI6MjA3MzI4MTk5Mn0.ZShTF8xzXAUQRoFkTwwz_7_m3F_N9dFHfKvr8D01qc8",Me=vy(wy,_y);async function xy(){try{const{data:t,error:e}=await Me.from("quotes").select("*").order("created_on",{ascending:!1});return e?{data:null,error:e.message}:{data:t,error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Unknown error"}}}async function Sy(){try{const{data:t,error:e}=await Me.from("quote_status_ref").select("*").order("quote_status_ref_id");return e?{data:null,error:e.message}:{data:t,error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Unknown error"}}}async function ky(){try{const{data:t,error:e}=await Me.from("print_type_ref").select("*").order("print_type_id");return e?{data:null,error:e.message}:{data:t,error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Unknown error"}}}async function To(t){try{var e=t.print_time*.14,n=t.labor_time*15,r=t.material_cost+e+n,s=r/.7;const i=typeof t.source=="string"?t.source.trim():"",o={customer_name:t.customer_name,order_date:t.order_date,project_summary:t.project_summary,source:i.length>0?i:null,print_type:t.print_type,status:t.status,material_cost:t.material_cost,print_time:t.print_time,print_cost:e,labor_time:t.labor_time,labor_cost:n,total_cost:r,suggested_price:s,actual_price:t.actual_price};let a,l;if(t.id){const u=await Me.from("quotes").update(o).eq("quote_id",t.id).select().single();a=u.data,l=u.error}else{const u=await Me.from("quotes").insert({...o,created_on:new Date().toISOString()}).select().single();a=u.data,l=u.error}return l?{data:null,error:l.message}:{data:a,error:null}}catch(i){return{data:null,error:i instanceof Error?i.message:"Unknown error"}}}async function by(){try{const{data:t,error:e}=await Me.from("order_status_ref").select("*").order("order_status_ref_id");return e?{data:null,error:e.message}:{data:t.map(r=>{const s=r.id??r.order_status_ref_id,i=typeof s=="number"?s:Number(s),o=r.name??r.status_name,a=typeof o=="string"&&o.trim().length>0?o:"Unknown",l=typeof r.description=="string"?r.description:void 0;return{id:Number.isFinite(i)?i:0,name:a,description:l}}).filter(r=>r.id!==0),error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Unknown error"}}}async function Sf(){try{const{data:t,error:e}=await Me.from("orders").select("*, quote:quotes(*)").order("created_on",{ascending:!1});return e?{data:null,error:e.message}:{data:t.map(s=>{const i=s.id??s.order_id??0,o=s.status??s.order_status_id??0,a=typeof s.is_paid<"u"?s.is_paid:typeof s.order_paid<"u"?s.order_paid:s.paid,l=typeof a=="boolean"?a:typeof a=="number"?a!==0:typeof a=="string"?["true","1","t","yes"].includes(a.toLowerCase()):!1;return{id:i,order_id:s.order_id??s.id??i,quote_id:s.quote_id,status:o,is_paid:l,notes:typeof s.notes=="string"?s.notes:null,created_on:s.created_on,quote:s.quote??null}}).filter(s=>s.id!==0),error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Unknown error"}}}async function Ey(t,e=1){try{const{error:n}=await Me.from("orders").insert({quote_id:t.id??t.quote_id,status:e,created_on:new Date().toISOString()});return n?{data:null,error:n.message}:{data:null,error:null}}catch(n){return{data:null,error:n instanceof Error?n.message:"Unknown error"}}}async function jy(t,e,n,r){try{const s={status:e};if(typeof n=="boolean"&&(s.is_paid=n),typeof r<"u"){const l=r.trim();s.notes=l.length>0?l:null}const{data:i,error:o}=await Me.from("orders").update(s).eq("order_id",t).select();return o?{data:null,error:o.message}:{data:Array.isArray(i)?i[0]??null:i,error:null}}catch(s){return{data:null,error:s instanceof Error?s.message:"Unknown error"}}}const Po=()=>new Date().toISOString().split("T")[0],Cy=t=>t?t.split("T")[0]:"";function Ny({isOpen:t,onClose:e,onSave:n,quote:r,printTypes:s,quoteStatuses:i}){var zl,Bl;const[o,a]=b.useState({customer_name:"",order_date:Po(),project_summary:"",source:"",print_type:0,status:0,material_cost:0,print_time:0,labor_time:0,actual_price:0}),[l,u]=b.useState("0.00"),[c,f]=b.useState(!1),[m,y]=b.useState(null),_=1,x=b.useCallback($=>{const F=parseFloat($);if(!Number.isFinite(F))return{formatted:"0.00",numeric:0};const B=Math.round(F*100)/100;return{formatted:B.toFixed(2),numeric:B}},[]),S=s.find($=>$.print_type_id===o.print_type)||null,g=S?S.power_cost+S.maintenance_cost:0,d=Number.isFinite(o.print_time)?o.print_time*g:0,p=Number.isFinite(o.labor_time)?o.labor_time*15:0,w=o.material_cost+d+p,E=w/.7,j=i.find($=>{var F;return((F=$.name)==null?void 0:F.toLowerCase())==="converted"})||null,C=j==null?void 0:j.quote_status_ref_id,T=i.find($=>{var F;return((F=$.name)==null?void 0:F.toLowerCase())==="abandoned"})||null,I=T==null?void 0:T.quote_status_ref_id,R=b.useMemo(()=>i.filter($=>$.quote_status_ref_id!==C),[i,C]),V=b.useMemo(()=>{const $=R.find(F=>{var B;return((B=F.name)==null?void 0:B.toLowerCase())==="new"});return $?$.quote_status_ref_id:R.length>0?R[0].quote_status_ref_id:C??0},[R,C]),se=!!(C&&(r==null?void 0:r.status)===C),oe=!!(I&&(r==null?void 0:r.status)===I),te=se||oe,ht=!!(r&&!se&&!oe),ft=R.some($=>$.quote_status_ref_id===o.status),Be=se&&C!==void 0?C:ft?o.status:"",v=Be===""?"":String(Be),k={1:"bg-amber-100 text-amber-800",2:"bg-blue-100 text-blue-800",3:"bg-green-100 text-green-800",4:"bg-red-100 text-red-700"},P=$=>{const F=typeof $=="string"?parseInt($,10):$;return Number.isFinite(F)&&k[F]||"bg-stone-100 text-stone-700"},L={resin:"bg-purple-100 text-purple-800",fdm:"bg-amber-100 text-amber-800"},de=(((zl=s.find($=>$.print_type_id===o.print_type))==null?void 0:zl.name)||"").toLowerCase(),he=L[de]||"bg-stone-100 text-stone-700",Ne=se&&j?j.name:oe&&T?T.name:((Bl=R.find($=>$.quote_status_ref_id===o.status))==null?void 0:Bl.name)||"Unknown",Se=P(se&&j?j.quote_status_ref_id:oe&&T?T.quote_status_ref_id:v),We=()=>{const{formatted:$,numeric:F}=x(l);u($),a(B=>({...B,actual_price:F}))},ps=$=>Number.isFinite($)?`$${$.toFixed(2)}`:"";b.useEffect(()=>{var B;const $=(r==null?void 0:r.print_type)??((B=s[0])==null?void 0:B.print_type_id)??0,F=(r==null?void 0:r.status)??V;if(r){const q=typeof r.actual_price=="number"?r.actual_price:0,{formatted:Ct,numeric:Sn}=x(q.toString()),Cf=Cy(r.order_date)||Po();a({customer_name:r.customer_name,order_date:Cf,project_summary:r.project_summary,source:r.source??"",print_type:$,status:F,material_cost:r.material_cost,print_time:r.print_time,labor_time:r.labor_time,actual_price:Sn}),u(Ct)}else{const{formatted:q,numeric:Ct}=x("0"),Sn=Po();a({customer_name:"",order_date:Sn,project_summary:"",source:"",print_type:$,status:F,material_cost:0,print_time:0,labor_time:0,actual_price:Ct}),u(q)}y(null)},[r,t,s,R,C,V,x]);const bf=async $=>{if($.preventDefault(),te)return;if(o.status===0&&V){a(q=>({...q,status:V})),y("Quote status is still loading. Please try again.");return}const{formatted:F,numeric:B}=x(l);F!==l&&u(F),B!==o.actual_price&&a(q=>({...q,actual_price:B})),f(!0),y(null);try{const Ct={...r?{...o,id:r.quote_id??r.id}:o,actual_price:B},Sn=await To(Ct);Sn.error?y(Sn.error):(n(),e())}catch(q){y(q instanceof Error?q.message:"An error occurred")}finally{f(!1)}},Ef=async()=>{if(!r||!I)return;const{formatted:$,numeric:F}=x(l);$!==l&&u($),f(!0),y(null);try{const B={...o,status:I,actual_price:F,id:r.quote_id??r.id},q=await To(B);q.error?y(q.error):(n(),e())}catch(B){y(B instanceof Error?B.message:"An error occurred")}finally{f(!1)}},jf=async()=>{if(!r||!C)return;const{formatted:$,numeric:F}=x(l);$!==l&&u($),f(!0),y(null);try{const B={...o,status:C,actual_price:F,id:r.quote_id??r.id},q=await To(B);if(q.error||!q.data){y(q.error??"Unable to convert quote.");return}const Ct=await Ey(q.data,_);if(Ct.error){y(Ct.error);return}n(),e()}catch(B){y(B instanceof Error?B.message:"An error occurred")}finally{f(!1)}},pt=$=>{const{name:F,value:B}=$.target;if(F==="actual_price"){u(B),a(q=>({...q,actual_price:B===""?0:parseFloat(B)||0}));return}a(q=>({...q,[F]:F==="print_type"||F==="status"?parseInt(B,10)||0:F.includes("cost")||F.includes("time")||F.includes("price")?parseFloat(B)||0:B}))};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-2xl p-4 md:p-6 w-full max-w-xl mx-4 ring-1 ring-stone-200 shadow-sm max-h-[90vh] flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:r?"Edit Quote":"Create New Quote"}),h.jsx("div",{className:`inline-flex items-center rounded-full px-4 py-1 text-2xl font-semibold capitalize ${Se}`.trim(),children:Ne})]}),h.jsxs("form",{onSubmit:bf,className:"flex flex-col gap-6 flex-1 min-h-0",children:[h.jsxs("div",{className:"flex-1 space-y-6 overflow-y-auto pr-1 min-h-0",children:[te&&h.jsx("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-4 py-3 text-sm text-stone-700",children:"Converted or abandoned quotes are read-only."}),h.jsxs("div",{className:"sm:flex sm:space-x-4",children:[h.jsxs("div",{className:"sm:w-1/2",children:[h.jsx("label",{htmlFor:"customer_name",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Customer Name"}),h.jsx("input",{type:"text",id:"customer_name",name:"customer_name",value:o.customer_name,onChange:pt,required:!0,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]}),h.jsxs("div",{className:"mt-6 sm:mt-0 sm:w-1/2",children:[h.jsx("label",{htmlFor:"order_date",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Order Date"}),h.jsx("input",{type:"date",id:"order_date",name:"order_date",value:o.order_date,onChange:pt,required:!0,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"project_summary",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Project Summary"}),h.jsx("textarea",{id:"project_summary",name:"project_summary",value:o.project_summary,onChange:pt,required:!0,rows:3,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"source",className:"block text-sm font-semibold text-stone-700 mb-2",children:"File Source (optional)"}),h.jsx("input",{type:"text",id:"source",name:"source",placeholder:"Paste a link or add a quick note",value:o.source,onChange:pt,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]}),h.jsxs("div",{className:"sm:flex sm:items-center sm:space-x-4",children:[h.jsxs("div",{className:"mt-6 sm:mt-0 sm:w-1/2",children:[h.jsx("label",{htmlFor:"print_type",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Print Type"}),h.jsx("select",{id:"print_type",name:"print_type",value:s.length===0?"":o.print_type,onChange:pt,required:!0,disabled:te||s.length===0,className:`w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors disabled:bg-stone-100 disabled:text-stone-500 ${he}`.trim(),children:s.length===0?h.jsx("option",{value:"",children:"No print types available"}):s.map($=>h.jsx("option",{value:$.print_type_id,children:$.name},$.print_type_id))})]}),h.jsxs("div",{className:"mt-6 sm:mt-0 sm:w-1/2",children:[h.jsx("label",{htmlFor:"material_cost",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Material Cost ($)"}),h.jsx("input",{type:"number",id:"material_cost",name:"material_cost",value:o.material_cost,onChange:pt,min:"0",step:"0.01",required:!0,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]})]}),h.jsxs("div",{className:"sm:flex sm:items-end sm:space-x-4",children:[h.jsxs("div",{className:"sm:w-1/2",children:[h.jsx("label",{htmlFor:"print_time",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Print Time (hours)"}),h.jsx("input",{type:"number",id:"print_time",name:"print_time",value:o.print_time,onChange:pt,min:"0",step:"0.5",required:!0,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]}),h.jsx("div",{className:"sm:w-1/2",children:h.jsx("div",{className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-50 text-stone-900",children:s.length===0?"Unavailable":ps(d)})})]}),h.jsxs("div",{className:"sm:flex sm:items-end sm:space-x-4",children:[h.jsxs("div",{className:"sm:w-1/2",children:[h.jsx("label",{htmlFor:"labor_time",className:"block text-sm font-semibold text-stone-700 mb-2",children:"Labor Time (hours)"}),h.jsx("input",{type:"number",id:"labor_time",name:"labor_time",value:o.labor_time,onChange:pt,min:"0",step:"0.5",required:!0,disabled:te,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]}),h.jsx("div",{className:"sm:w-1/2",children:h.jsx("div",{className:"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-50 text-stone-900",children:ps(p)})})]}),h.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200 bg-white",children:h.jsx("table",{className:"min-w-full text-sm text-stone-900",children:h.jsxs("tbody",{children:[h.jsxs("tr",{className:"border-b border-stone-200",children:[h.jsx("th",{className:"bg-stone-50 px-4 py-3 text-left font-semibold text-stone-700",children:"Total Cost"}),h.jsx("td",{className:"px-4 py-3 text-right text-lg font-semibold",children:ps(w)})]}),h.jsxs("tr",{className:"border-b border-stone-200",children:[h.jsx("th",{className:"bg-stone-50 px-4 py-3 text-left font-semibold text-stone-700",children:"Suggested Price"}),h.jsx("td",{className:"px-4 py-3 text-right text-lg font-semibold",children:ps(E)})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"bg-stone-50 px-4 py-3 text-left font-semibold text-stone-700 align-middle",children:"Quoted Price"}),h.jsx("td",{className:"px-4 py-3 text-right",children:h.jsxs("div",{className:"relative inline-flex w-32 justify-end",children:[h.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center text-sm text-stone-500",children:"$"}),h.jsx("input",{type:"number",id:"actual_price",name:"actual_price",value:l,onChange:pt,onBlur:We,min:"0",step:"0.5",disabled:te,className:"w-full text-right pr-3 pl-6 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition-colors"})]})})]})]})})}),m&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:m})]}),h.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap justify-center gap-y-3 gap-x-[5px] pt-4",children:[!te&&h.jsx("button",{type:"submit",disabled:c||o.status===0||R.length===0,className:"px-6 py-3 bg-[var(--brand)] text-white rounded-lg hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:ring-offset-2 disabled:opacity-50 transition-colors",children:c?"Saving...":r?"Update":"Create"}),h.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 text-stone-700 bg-stone-200 rounded-lg hover:bg-stone-300 focus:outline-none focus:ring-2 focus:ring-stone-500 transition-colors",children:"Cancel"}),ht&&h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",onClick:jf,disabled:te||!C||c,className:"px-6 py-3 bg-blue-100 text-blue-700 rounded-lg border border-blue-200 disabled:opacity-60",children:"Convert"}),h.jsx("button",{type:"button",onClick:Ef,disabled:te||!I||c,className:"px-6 py-3 bg-red-100 text-red-700 rounded-lg border border-red-200 disabled:opacity-60",children:"Abandon"})]})]})]})]})}):null}const Ty={1:"bg-[var(--brand)]/10 text-[var(--brand)]",2:"bg-blue-100 text-blue-800",3:"bg-green-100 text-green-800",4:"bg-red-100 text-red-700"},Py={resin:"bg-purple-100 text-purple-800",fdm:"bg-amber-100 text-amber-800"},bc=[{value:"all",label:"All"},{value:"mtd",label:"This Month to Date"},{value:"last-month",label:"Last Month"},{value:"ytd",label:"Year to Date"},{value:"last-year",label:"Last Calendar Year"}];function Oy(){var Be;const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState([]),[o,a]=b.useState(!1),[l,u]=b.useState(null),[c,f]=b.useState(!0),[m,y]=b.useState(null),[_,x]=b.useState("all"),S=async()=>{f(!0),y(null);try{const[v,k,P]=await Promise.all([xy(),Sy(),ky()]);if(v.error)y(v.error);else{const L=(v.data||[]).slice().sort((D,de)=>{const he=Ne=>{const Se=Ne.order_date||Ne.created_on,We=Date.parse(Se||"");return Number.isNaN(We)?0:We};return he(de)-he(D)});e(L)}k.error?console.error("Failed to load quote statuses:",k.error):r(k.data||[]),P.error?console.error("Failed to load print types:",P.error):i(P.data||[])}catch(v){y(v instanceof Error?v.message:"Failed to load quotes")}finally{f(!1)}};b.useEffect(()=>{S()},[]);const g=v=>{const k=new Date(v);return k.setHours(0,0,0,0),k},d=v=>{const k=new Date(v);return k.setHours(23,59,59,999),k},{rangeStart:p,rangeEnd:w,isAllRange:E}=b.useMemo(()=>{const v=new Date;if(_==="all")return{rangeStart:null,rangeEnd:null,isAllRange:!0};if(_==="mtd"){const L=new Date(v.getFullYear(),v.getMonth(),1);return{rangeStart:g(L),rangeEnd:d(v),isAllRange:!1}}if(_==="last-month"){const L=new Date(v.getFullYear(),v.getMonth()-1,1),D=new Date(v.getFullYear(),v.getMonth(),0);return{rangeStart:g(L),rangeEnd:d(D),isAllRange:!1}}if(_==="ytd"){const L=new Date(v.getFullYear(),0,1);return{rangeStart:g(L),rangeEnd:d(v),isAllRange:!1}}const k=new Date(v.getFullYear()-1,0,1),P=new Date(v.getFullYear()-1,11,31);return{rangeStart:g(k),rangeEnd:d(P),isAllRange:!1}},[_]),j=b.useMemo(()=>E||!p||!w?t:t.filter(v=>{const k=v.order_date||v.created_on;if(!k)return!1;const P=Date.parse(k);if(Number.isNaN(P))return!1;const L=new Date(P);return L>=p&&L<=w}),[t,p,w,E]),{displayStart:C,displayEnd:T}=b.useMemo(()=>{if(!E||!t.length)return{displayStart:p,displayEnd:w};const v=t.map(k=>{const P=k.order_date||k.created_on;if(!P)return null;const L=Date.parse(P);return Number.isNaN(L)?null:L}).filter(k=>k!==null);return v.length===0?{displayStart:null,displayEnd:null}:{displayStart:new Date(Math.min(...v)),displayEnd:new Date(Math.max(...v))}},[E,t,p,w]),I=()=>{u(null),a(!0)},R=v=>{u(v),a(!0)},V=v=>{const k=n.find(P=>P.quote_status_ref_id===v);return(k==null?void 0:k.name)||"Unknown"},se=v=>Ty[v]||"bg-stone-100 text-stone-800",oe=v=>{const k=s.find(P=>P.print_type_id===v);return(k==null?void 0:k.name)||"Unknown"},te=v=>{const k=v.toLowerCase();return Py[k]||"bg-stone-100 text-stone-700"},ht=v=>v==null||typeof v!="number"||Number.isNaN(v)?"":`$${v.toFixed(2)}`,ft=v=>{if(!v)return"";const k=v.split("T")[0],[P,L,D]=k.split("-"),de=Number(P),he=Number(L),Ne=Number(D);return!Number.isFinite(de)||!Number.isFinite(he)||!Number.isFinite(Ne)?"":new Date(de,he-1,Ne).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})};return c?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"text-lg text-gray-600",children:"Loading quotes..."})}):h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-stone-900",children:"Quotes"}),h.jsx("button",{onClick:I,className:"inline-flex items-center rounded-full bg-[var(--brand)] px-6 py-3 text-white font-semibold shadow-sm hover:brightness-110 transition",children:"Create Quote"})]}),m&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:m}),h.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4 rounded-2xl bg-white px-4 py-3 ring-1 ring-stone-200 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-stone-500 font-semibold",children:"Date Range"}),h.jsx("p",{className:"text-stone-900 font-semibold",children:(Be=bc.find(v=>v.value===_))==null?void 0:Be.label}),h.jsxs("p",{className:"text-sm text-stone-500",children:[C?C.toLocaleDateString():""," "," ",T?T.toLocaleDateString():""]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("label",{htmlFor:"quotes-range-filter",className:"text-sm font-medium text-stone-600",children:"Filter"}),h.jsx("select",{id:"quotes-range-filter",value:_,onChange:v=>x(v.target.value),className:"rounded-2xl border border-stone-300 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent",children:bc.map(v=>h.jsx("option",{value:v.value,children:v.label},v.value))})]})]}),h.jsx("div",{className:"bg-white shadow-sm sm:rounded-2xl ring-1 ring-stone-200",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full w-full divide-y divide-stone-200",children:[h.jsx("thead",{className:"bg-stone-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Status"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Customer"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Order Date"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Summary"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Print Type"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Total Cost"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Suggested Price"}),h.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-stone-700 whitespace-nowrap",children:"Quoted Price"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-stone-200",children:j.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"py-4 px-4 text-center text-gray-500",children:"No quotes found for this range"})}):j.map(v=>{const k=oe(v.print_type);return h.jsxs("tr",{onClick:()=>R(v),className:"hover:bg-stone-50 transition-colors cursor-pointer",children:[h.jsx("td",{className:"py-4 px-6 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${se(v.status)}`,children:V(v.status)})}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap text-sm text-stone-900",children:v.customer_name}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap text-sm text-stone-900",children:ft(v.order_date)}),h.jsx("td",{className:"py-4 px-6 text-sm text-stone-900 truncate",children:v.project_summary}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te(k)}`,children:k})}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap text-sm text-stone-900",children:ht(v.total_cost)}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap text-sm text-stone-900",children:ht(v.suggested_price)}),h.jsx("td",{className:"py-4 px-6 whitespace-nowrap text-sm text-stone-900",children:ht(v.actual_price)})]},v.id)})})]})})}),h.jsx(Ny,{isOpen:o,onClose:()=>a(!1),onSave:S,quote:l,printTypes:s,quoteStatuses:n})]})}const Ec=t=>{if(t==null)return null;if(typeof t=="number")return Number.isFinite(t)?t:null;const e=Number.parseFloat(t);return Number.isFinite(e)?e:null},Ry=t=>{if(!t)return null;const e=Ec(t.actual_price),n=Ec(t.total_cost);return e===null||n===null||e===0?null:(e-n)/e*100},Ly=t=>t>=30?"bg-emerald-100 text-emerald-800":t>=25?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-700";function Iy({isOpen:t,order:e,statuses:n,onClose:r,onOrderUpdated:s}){const[i,o]=b.useState(null),[a,l]=b.useState(!1),[u,c]=b.useState(""),[f,m]=b.useState(!1),[y,_]=b.useState(null);if(b.useEffect(()=>{e?(o(e.status),l(!!e.is_paid),c(e.notes??"")):(o(null),l(!1),c("")),_(null)},[e,t]),!t||!e)return null;const x=async d=>{var p;if(d.preventDefault(),i!=null){m(!0),_(null);try{const w=await jy(e.id,i,a,u);if(w.error){_(w.error);return}const E=((p=w.data)==null?void 0:p.notes)??(u.trim().length>0?u.trim():"");c(E),s(e.id,i,a,E),r()}catch(w){_(w instanceof Error?w.message:"Failed to update order")}finally{m(!1)}}},S=e.quote,g=d=>{if(d==null)return"";const p=typeof d=="string"?Number.parseFloat(d):d;return Number.isNaN(p)?"":`$${p.toFixed(2)}`};return h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:h.jsx("div",{className:"bg-white rounded-2xl w-full max-w-lg mx-4 ring-1 ring-stone-200 shadow-sm",children:h.jsxs("form",{onSubmit:x,className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:"Edit Order"}),h.jsxs("p",{className:"text-sm text-stone-500 mt-1",children:["Order #",e.id,S!=null&&S.quote_id?`  Quote #${S.quote_id}`:""]})]}),h.jsx("button",{type:"button",onClick:r,className:"text-stone-400 hover:text-stone-600","aria-label":"Close",children:""})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-xl border border-stone-200 bg-stone-50 p-4 space-y-2 text-sm text-stone-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold text-stone-700",children:"Customer:"})," ",(S==null?void 0:S.customer_name)??"Unknown customer"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold text-stone-700",children:"Summary:"})," ",(S==null?void 0:S.project_summary)??"Not provided"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold text-stone-700",children:"Actual Price:"})," ",g(S==null?void 0:S.actual_price)]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold text-stone-700",children:"Total Cost:"})," ",g(S==null?void 0:S.total_cost)]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold text-stone-700",children:"Profit Margin:"})," ",(()=>{const d=Ry(S);return d===null?"":h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ly(d)}`,children:`${Math.round(d)}%`})})()]})]}),h.jsxs("div",{className:"rounded-lg border border-stone-200 px-4 py-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-stone-700",children:"Paid"}),h.jsx("p",{className:"text-xs text-stone-500",children:"Mark once payment is collected."})]}),h.jsx("input",{type:"checkbox",checked:a,onChange:d=>l(d.target.checked),className:"h-5 w-5 rounded border-stone-300 text-[var(--brand)] focus:ring-[var(--brand)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-stone-700 mb-2",children:"Status"}),h.jsxs("select",{value:i??"",onChange:d=>o(Number(d.target.value)),className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select status"}),n.map(d=>h.jsx("option",{value:d.id,children:d.name},d.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-stone-700 mb-2",children:"Notes"}),h.jsx("textarea",{value:u,onChange:d=>c(d.target.value.slice(0,500)),maxLength:500,rows:4,className:"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent transition resize-none",placeholder:"Add any extra context for this order..."}),h.jsxs("p",{className:"text-xs text-stone-500 text-right mt-1",children:[u.length,"/500"]})]})]})]}),y&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:y}),h.jsxs("div",{className:"flex justify-center space-x-3 pt-4",children:[h.jsx("button",{type:"submit",disabled:f,className:"px-6 py-3 bg-[var(--brand)] text-white rounded-lg hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:ring-offset-2 disabled:opacity-60 transition",children:f?"Saving...":"Save Changes"}),h.jsx("button",{type:"button",onClick:r,className:"px-5 py-3 text-stone-700 bg-stone-200 rounded-lg hover:bg-stone-300 focus:outline-none focus:ring-2 focus:ring-stone-500 transition",children:"Cancel"})]})]})})})}const $y={1:"bg-amber-100 text-amber-800",2:"bg-blue-100 text-blue-800",3:"bg-emerald-100 text-emerald-800",4:"bg-stone-300 text-stone-900",5:"bg-red-100 text-red-700"},jc={true:"bg-emerald-100 text-emerald-800",false:"bg-rose-100 text-rose-700"},Cc=[{value:"all",label:"All"},{value:"mtd",label:"This Month to Date"},{value:"last-month",label:"Last Month"},{value:"ytd",label:"Year to Date"},{value:"last-year",label:"Last Calendar Year"}];function Ay(){var Be;const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState(null),[l,u]=b.useState(!1),[c,f]=b.useState(null),[m,y]=b.useState("all"),_=async()=>{i(!0),a(null);try{const[v,k]=await Promise.all([Sf(),by()]);if(v.error)a(v.error);else{const P=(v.data||[]).slice().sort((L,D)=>{const de=he=>{var We;const Ne=((We=he.quote)==null?void 0:We.order_date)||he.created_on,Se=Ne?Date.parse(Ne):Number.NaN;return Number.isNaN(Se)?0:Se};return de(D)-de(L)});e(P)}k.error?console.error("Failed to load order statuses:",k.error):r(k.data||[])}catch(v){a(v instanceof Error?v.message:"Failed to load orders")}finally{i(!1)}};b.useEffect(()=>{_()},[]);const x=v=>{const k=new Date(v);return k.setHours(0,0,0,0),k},S=v=>{const k=new Date(v);return k.setHours(23,59,59,999),k},{start:g,end:d,isAllRange:p}=b.useMemo(()=>{const v=new Date;if(m==="all")return{start:null,end:null,isAllRange:!0};if(m==="mtd"){const L=new Date(v.getFullYear(),v.getMonth(),1);return{start:x(L),end:S(v),isAllRange:!1}}if(m==="last-month"){const L=new Date(v.getFullYear(),v.getMonth()-1,1),D=new Date(v.getFullYear(),v.getMonth(),0);return{start:x(L),end:S(D),isAllRange:!1}}if(m==="ytd"){const L=new Date(v.getFullYear(),0,1);return{start:x(L),end:S(v),isAllRange:!1}}const k=new Date(v.getFullYear()-1,0,1),P=new Date(v.getFullYear()-1,11,31);return{start:x(k),end:S(P),isAllRange:!1}},[m]),w=b.useMemo(()=>p||!g||!d?t:t.filter(v=>{var D;const k=((D=v.quote)==null?void 0:D.order_date)??v.created_on;if(!k)return!1;const P=Date.parse(k);if(Number.isNaN(P))return!1;const L=new Date(P);return L>=g&&L<=d}),[t,g,d,p]),{displayStart:E,displayEnd:j}=b.useMemo(()=>{if(!p||!t.length)return{displayStart:g,displayEnd:d};const v=t.map(k=>{var D;const P=((D=k.quote)==null?void 0:D.order_date)??k.created_on;if(!P)return null;const L=Date.parse(P);return Number.isNaN(L)?null:L}).filter(k=>k!==null);return v.length===0?{displayStart:null,displayEnd:null}:{displayStart:new Date(Math.min(...v)),displayEnd:new Date(Math.max(...v))}},[p,t,g,d]),C=v=>{const k=n.find(P=>P.id===v);return(k==null?void 0:k.name)||"Unknown"},T=v=>$y[v]||"bg-stone-100 text-stone-800",I=v=>v?jc.true:jc.false,R=v=>{if(v==null)return null;if(typeof v=="number")return Number.isFinite(v)?v:null;const k=Number.parseFloat(v);return Number.isFinite(k)?k:null},V=v=>{if(!v)return null;const k=R(v.actual_price),P=R(v.total_cost);return k===null||P===null||k===0?null:(k-P)/k*100},se=v=>v>=30?"bg-emerald-100 text-emerald-800":v>=25?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-700",oe=v=>{if(v==null)return"";const k=typeof v=="string"?Number.parseFloat(v):v;return Number.isNaN(k)?"":`$${k.toFixed(2)}`},te=v=>{if(!v)return"";const k=new Date(v);return Number.isNaN(k.getTime())?"":k.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},ht=v=>{f(v),u(!0)},ft=(v,k,P,L)=>{e(D=>D.map(de=>de.id===v?{...de,status:k,is_paid:P,notes:L}:de))};return s?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"text-lg text-gray-600",children:"Loading orders..."})}):h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsx("h1",{className:"text-3xl font-bold text-stone-900",children:"Orders"})}),o&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:o}),h.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-4 rounded-2xl bg-white px-4 py-3 ring-1 ring-stone-200 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-stone-500 font-semibold",children:"Date Range"}),h.jsx("p",{className:"text-stone-900 font-semibold",children:(Be=Cc.find(v=>v.value===m))==null?void 0:Be.label}),h.jsxs("p",{className:"text-sm text-stone-500",children:[E?E.toLocaleDateString():""," "," ",j?j.toLocaleDateString():""]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("label",{htmlFor:"orders-range-filter",className:"text-sm font-medium text-stone-600",children:"Filter"}),h.jsx("select",{id:"orders-range-filter",value:m,onChange:v=>y(v.target.value),className:"rounded-2xl border border-stone-300 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent",children:Cc.map(v=>h.jsx("option",{value:v.value,children:v.label},v.value))})]})]}),h.jsx("div",{className:"bg-white shadow-sm sm:rounded-2xl ring-1 ring-stone-200",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full w-full divide-y divide-stone-200",children:[h.jsx("thead",{className:"bg-stone-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Paid"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Customer"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Summary"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Order Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Price"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Cost"}),h.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-stone-700",children:"Margin"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-stone-200",children:w.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"No orders found for this range"})}):w.map(v=>{const k=v.quote;return h.jsxs("tr",{onClick:()=>ht(v),className:"hover:bg-stone-50 transition-colors cursor-pointer",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(v.status)}`,children:C(v.status)})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(v.is_paid)}`,children:v.is_paid?"True":"False"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-stone-900",children:(k==null?void 0:k.customer_name)??"Unknown customer"}),h.jsx("td",{className:"px-6 py-4 text-sm text-stone-900 max-w-xs truncate",children:(k==null?void 0:k.project_summary)??""}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-stone-900",children:te(k==null?void 0:k.order_date)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-stone-900",children:oe(k==null?void 0:k.actual_price)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-stone-900",children:oe(k==null?void 0:k.total_cost)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-stone-900",children:(()=>{const P=V(k);return P===null?"":h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${se(P)}`,children:`${Math.round(P)}%`})})()})]},v.id)})})]})})}),h.jsx(Iy,{isOpen:l,order:c,statuses:n,onClose:()=>{u(!1),f(null)},onOrderUpdated:ft})]})}const Dy=new Set([4]),Nc=[{value:"all",label:"All"},{value:"mtd",label:"This Month to Date"},{value:"last-month",label:"Last Month"},{value:"ytd",label:"Year to Date"},{value:"last-year",label:"Last Calendar Year"}],Ds=t=>{if(t==null)return null;if(typeof t=="number")return Number.isFinite(t)?t:null;const e=Number.parseFloat(t);return Number.isFinite(e)?e:null},Tn=t=>new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Uy=t=>t>=30?{container:"bg-emerald-100 ring-emerald-200",label:"text-emerald-800",value:"text-emerald-900",subtext:"text-emerald-700"}:t>=25?{container:"bg-amber-100 ring-amber-200",label:"text-amber-800",value:"text-amber-900",subtext:"text-amber-700"}:{container:"bg-rose-100 ring-rose-200",label:"text-rose-800",value:"text-rose-900",subtext:"text-rose-700"};function My(){var g;const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState("all"),l=d=>{const p=new Date,w=T=>{const I=new Date(T);return I.setHours(0,0,0,0),I},E=T=>{const I=new Date(T);return I.setHours(23,59,59,999),I};if(d==="all")return{start:null,end:null,isAllRange:!0};if(d==="mtd"){const T=new Date(p.getFullYear(),p.getMonth(),1);return{start:w(T),end:E(p),isAllRange:!1}}if(d==="last-month"){const T=new Date(p.getFullYear(),p.getMonth()-1,1),I=new Date(p.getFullYear(),p.getMonth(),0);return{start:w(T),end:E(I),isAllRange:!1}}if(d==="ytd"){const T=new Date(p.getFullYear(),0,1);return{start:w(T),end:E(p),isAllRange:!1}}const j=new Date(p.getFullYear()-1,0,1),C=new Date(p.getFullYear()-1,11,31);return{start:w(j),end:E(C),isAllRange:!1}};b.useEffect(()=>{(async()=>{r(!0),i(null);try{const{data:p,error:w}=await Sf();if(w){i(w),e([]);return}e(p??[])}catch(p){i(p instanceof Error?p.message:"Failed to load finances"),e([])}finally{r(!1)}})()},[]);const{start:u,end:c,isAllRange:f}=b.useMemo(()=>l(o),[o]),m=b.useMemo(()=>f||!u||!c?t:t.filter(d=>{var j;const p=((j=d.quote)==null?void 0:j.order_date)??d.created_on;if(!p)return!1;const w=Date.parse(p);if(Number.isNaN(w))return!1;const E=new Date(w);return E>=u&&E<=c}),[t,u,c,f]),{displayStart:y,displayEnd:_}=b.useMemo(()=>{if(!f||!t.length)return{displayStart:u,displayEnd:c};const d=t.map(p=>{var j;const w=((j=p.quote)==null?void 0:j.order_date)??p.created_on;if(!w)return null;const E=Date.parse(w);return Number.isNaN(E)?null:E}).filter(p=>p!==null);return d.length===0?{displayStart:null,displayEnd:null}:{displayStart:new Date(Math.min(...d)),displayEnd:new Date(Math.max(...d))}},[f,t,u,c]),x=b.useMemo(()=>{const d=m.reduce((E,j)=>{const C=j.quote,T=Ds(C==null?void 0:C.actual_price),I=Ds(C==null?void 0:C.material_cost),R=Ds(C==null?void 0:C.print_cost),V=Ds(C==null?void 0:C.labor_cost);T!==null&&(E.revenue+=T),I!==null&&(E.material+=I),R!==null&&(E.print+=R),V!==null&&(E.labor+=V);const se=(T??0)-(I??0)-(R??0)-(V??0);return E.profit+=se,Dy.has(j.status??0)&&(E.completed+=1),E},{revenue:0,material:0,print:0,labor:0,profit:0,completed:0}),p=m.length,w=d.revenue>0?d.profit/d.revenue*100:0;return{ordersReceived:p,ordersCompleted:d.completed,revenue:d.revenue,materialCost:d.material,printCost:d.print,laborCost:d.labor,profit:d.profit,profitMarginPercent:w}},[m]),S=[{label:"Orders",value:`${x.ordersCompleted.toLocaleString()} / ${x.ordersReceived.toLocaleString()}`,subtext:"Completed over received"},{label:"Revenue",value:Tn(x.revenue),subtext:"Sum of quote actual prices"},{label:"Expenses",breakdown:[{label:"Material",value:Tn(x.materialCost)},{label:"Print",value:Tn(x.printCost)},{label:"Labor",value:Tn(x.laborCost)}],totalLabel:"Total",totalValue:Tn(x.materialCost+x.printCost+x.laborCost)},{label:"Profit",value:Tn(x.profit),secondaryLabel:"Margin",secondaryValue:`${x.profitMarginPercent.toFixed(2)}%`,appearance:Uy(x.profitMarginPercent)}];return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-sm uppercase tracking-wide font-semibold text-[var(--brand)]",children:"Operational Overview"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold text-stone-900",children:"Dashboard"}),h.jsx("p",{className:"text-stone-600 text-lg",children:"Monitor high-level production spend and revenue trends as new orders flow through the pipeline."})]})]}),s&&h.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:s}),n?h.jsx("div",{className:"rounded-3xl bg-white p-10 text-center shadow-sm ring-1 ring-stone-200",children:h.jsx("p",{className:"text-lg text-stone-600",children:"Loading finances"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-3xl bg-white p-4 ring-1 ring-stone-200 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-stone-500 font-semibold",children:"Date Range"}),h.jsx("p",{className:"text-stone-900 font-semibold",children:(g=Nc.find(d=>d.value===o))==null?void 0:g.label}),h.jsxs("p",{className:"text-sm text-stone-500",children:[y?y.toLocaleDateString():""," "," ",_?_.toLocaleDateString():""]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("label",{className:"text-sm font-medium text-stone-600",htmlFor:"finances-range",children:"Filter"}),h.jsx("select",{id:"finances-range",value:o,onChange:d=>a(d.target.value),className:"rounded-2xl border border-stone-300 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent",children:Nc.map(d=>h.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-4",children:S.map(d=>{var T,I,R,V,se;const p=((T=d.appearance)==null?void 0:T.container)??"bg-white ring-stone-200",w=((I=d.appearance)==null?void 0:I.label)??"text-stone-500",E=((R=d.appearance)==null?void 0:R.value)??"text-stone-900",j=((V=d.appearance)==null?void 0:V.subtext)??"text-stone-500",C=Array.isArray(d.breakdown);return h.jsxs("div",{className:`rounded-3xl p-6 shadow-sm space-y-3 ring-1 ${p}`,children:[h.jsx("p",{className:`text-sm font-medium ${w}`,children:d.label}),C?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"space-y-2",children:(se=d.breakdown)==null?void 0:se.map(oe=>h.jsxs("div",{className:"flex items-center justify-between text-sm text-stone-600",children:[h.jsx("span",{children:oe.label}),h.jsx("span",{className:"font-medium text-stone-900",children:oe.value})]},oe.label))}),h.jsxs("div",{className:"mt-2 border-t border-stone-200 pt-3 flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-semibold text-stone-700",children:d.totalLabel??"Total"}),h.jsx("span",{className:"text-xl font-semibold text-stone-900",children:d.totalValue??""})]}),d.subtext&&h.jsx("p",{className:`text-sm ${j}`,children:d.subtext})]}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:`text-3xl font-semibold ${E}`,children:d.value}),d.secondaryValue&&h.jsxs("p",{className:"text-sm font-semibold text-stone-700",children:[d.secondaryLabel?`${d.secondaryLabel}: `:"",h.jsx("span",{className:"text-stone-900",children:d.secondaryValue})]}),h.jsx("p",{className:`text-sm ${j}`,children:d.subtext})]})]},d.label)})})]})]})}function Fy(t,e){if(!t.email)return null;const n=t.user_metadata??{},r=n.name??n.full_name;return{id:t.id,email:t.email,profile_id:e==null?void 0:e.id,created_at:(e==null?void 0:e.created_at)??t.created_at??void 0,name:(e==null?void 0:e.name)??(typeof r=="string"?r:null),username:(e==null?void 0:e.username)??(typeof n.username=="string"?n.username:null),admin:typeof(e==null?void 0:e.admin)=="boolean"?e.admin:typeof n.admin=="boolean"?n.admin:null}}async function kf(t){if(!t)return{data:null,error:null};try{const{data:e,error:n}=await Me.from("users").select("id, auth_user_id, created_at, name, username, admin").eq("auth_user_id",t.id).maybeSingle();if(n)return{data:null,error:n.message};const r=Fy(t,e??null);return r?{data:r,error:null}:{data:null,error:"User profile is missing required information"}}catch(e){return{data:null,error:e instanceof Error?e.message:"Unable to load user profile"}}}async function zy(t,e){try{const{data:n,error:r}=await Me.auth.signInWithPassword({email:t,password:e});if(r)return{data:null,error:r.message};const s=await kf(n.user);return s.error?{data:null,error:s.error}:s.data?{data:s.data,error:null}:{data:null,error:"Unable to load user profile"}}catch(n){return{data:null,error:n instanceof Error?n.message:"Unable to log in"}}}async function By(){try{const{data:t,error:e}=await Me.auth.getUser();return e?{data:null,error:e.message}:await kf(t.user)}catch(t){return{data:null,error:t instanceof Error?t.message:"Unable to fetch user profile"}}}async function Wy(){try{return await Me.auth.signOut(),null}catch(t){return t instanceof Error?t.message:"Failed to end session"}}function Vy({isAuthenticated:t,user:e,onLogout:n,onLoginClick:r}){const s=ur(),i=o=>s.pathname===o;return h.jsx("header",{className:"border-b border-stone-200 bg-white/95 sticky top-0 z-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"h-28 flex items-center justify-between gap-6",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx("img",{src:"/logo.png",alt:"MG Mini Factory",className:"h-16 w-auto"})}),h.jsxs("nav",{className:"flex items-center gap-10 text-stone-700 font-medium text-2xl",children:[h.jsx(Rs,{to:"/",className:`hover:text-[var(--brand)] ${i("/")?"text-[var(--brand)]":""}`,children:"Home"}),t&&h.jsxs(h.Fragment,{children:[h.jsx(Rs,{to:"/dashboard",className:`hover:text-[var(--brand)] ${i("/dashboard")?"text-[var(--brand)]":""}`,children:"Dashboard"}),h.jsx(Rs,{to:"/quotes",className:`hover:text-[var(--brand)] ${i("/quotes")?"text-[var(--brand)]":""}`,children:"Quotes"}),h.jsx(Rs,{to:"/orders",className:`hover:text-[var(--brand)] ${i("/orders")?"text-[var(--brand)]":""}`,children:"Orders"})]})]}),h.jsx("div",{className:"flex-1 flex justify-end",children:t?h.jsxs("div",{className:"flex items-center gap-4 text-right",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-stone-500",children:"Signed in as"}),h.jsx("p",{className:"text-stone-800 font-semibold",children:(e==null?void 0:e.username)??(e==null?void 0:e.email)})]}),h.jsx("button",{onClick:n,className:"text-sm font-semibold text-[var(--brand)] hover:text-[var(--brand)]/80",children:"Log out"})]}):h.jsx("button",{onClick:r,className:"rounded-full border border-[var(--brand)] px-6 py-2 text-lg font-semibold text-[var(--brand)] hover:bg-[var(--brand)] hover:text-white transition",children:"Log in"})})]})})})}function Hy({onLogin:t}){const[e,n]=b.useState(""),[r,s]=b.useState(""),[i,o]=b.useState(null),[a,l]=b.useState(!1),u=async c=>{c.preventDefault(),o(null),l(!0);try{const f=await t(e.trim(),r);if(!f.success){o(f.message??"Unable to log in");return}n(""),s(""),o(null)}finally{l(!1)}};return h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-stone-700",children:"Email"}),h.jsx("input",{id:"email",type:"email",value:e,onChange:c=>n(c.target.value),className:"mt-1 w-full rounded-xl border border-stone-200 px-4 py-3 text-base shadow-sm focus:border-[var(--brand)] focus:ring-[var(--brand)]",placeholder:"you@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-stone-700",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:r,onChange:c=>s(c.target.value),className:"mt-1 w-full rounded-xl border border-stone-200 px-4 py-3 text-base shadow-sm focus:border-[var(--brand)] focus:ring-[var(--brand)]",placeholder:"",required:!0})]}),i&&h.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:i}),h.jsx("button",{type:"submit",disabled:a,className:"w-full rounded-full bg-[var(--brand)] px-6 py-3 text-lg font-semibold text-white shadow-sm hover:brightness-110 transition disabled:opacity-60 disabled:cursor-not-allowed",children:a?"Logging in":"Log in"})]})}function Ky({isAuthenticated:t,user:e}){return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 space-y-12",children:[t&&h.jsxs("section",{className:"rounded-3xl bg-white px-8 py-10 ring-1 ring-stone-200 shadow-sm",children:[h.jsx("p",{className:"text-sm uppercase tracking-wide text-green-600 font-semibold",children:"You're signed in"}),h.jsxs("h2",{className:"mt-3 text-3xl font-bold text-stone-900",children:["Welcome back, ",(e==null?void 0:e.name)??(e==null?void 0:e.username)??(e==null?void 0:e.email)]}),h.jsx("p",{className:"mt-3 text-stone-600",children:"Explore your Quotes and Orders using the navigation above. Sign out at any time from the header."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"rounded-2xl bg-white p-6 ring-1 ring-stone-200 shadow-sm hover:ring-[var(--brand)] transition",children:[h.jsx("h3",{className:"font-semibold text-[var(--brand)]",children:"Fast Quotes"}),h.jsx("p",{className:"text-stone-600 mt-2",children:"Upload files, choose materials, and get an instant estimate."})]}),h.jsxs("div",{className:"rounded-2xl bg-white p-6 ring-1 ring-stone-200 shadow-sm hover:ring-[var(--brand)] transition",children:[h.jsx("h3",{className:"font-semibold text-[var(--brand)]",children:"Quality Prints"}),h.jsx("p",{className:"text-stone-600 mt-2",children:"High-resolution resin and FDM tuned for miniature detail."})]}),h.jsxs("div",{className:"rounded-2xl bg-white p-6 ring-1 ring-stone-200 shadow-sm hover:ring-[var(--brand)] transition",children:[h.jsx("h3",{className:"font-semibold text-[var(--brand)]",children:"On-Time Delivery"}),h.jsx("p",{className:"text-stone-600 mt-2",children:"Reliable timelines for game night and shop inventory."})]})]}),h.jsxs("footer",{className:"bg-white ring-1 ring-stone-200 rounded-2xl p-8 shadow-sm",children:[h.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:"About Us"}),h.jsx("p",{className:"mt-3 text-stone-600 leading-relaxed",children:"At MG Mini Factory, imagination goes 3D. We bring ideas to lifeone layer at a timewith custom minis, epic prints, and a dash of geeky magic. Whether youre building a collection or crafting your next campaign, were here to make your world a little more miniature and a lot more awesome."}),h.jsxs("div",{className:"mt-6 grid gap-6 md:grid-cols-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-stone-900",children:"What We Do"}),h.jsx("p",{className:"mt-2 text-sm text-stone-600",children:"We create high-quality 3D-printed minis and custom designs that bring your imagination to life."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-stone-900",children:"Get In Touch"}),h.jsx("p",{className:"mt-2 text-sm text-stone-600",children:"mgminifactory208@gmail.com"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-stone-900",children:"Follow Us"}),h.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[h.jsx("a",{href:"https://www.instagram.com/mg_mini_factory/",target:"_blank",rel:"noreferrer",className:"text-stone-500 hover:text-[var(--brand)] transition","aria-label":"Instagram",children:h.jsxs("svg",{className:"h-7 w-7",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[h.jsx("path",{d:"M12 7.3a4.7 4.7 0 1 0 0 9.4 4.7 4.7 0 0 0 0-9.4Zm0 7.7a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM17.8 5.2a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2Z"}),h.jsx("path",{d:"M21.5 6.7a5.6 5.6 0 0 0-1.5-3.9 5.6 5.6 0 0 0-3.9-1.5c-1.5-.1-6.1-.1-7.6 0a5.6 5.6 0 0 0-3.9 1.5A5.6 5.6 0 0 0 3 6.7c-.1 1.5-.1 6.1 0 7.6a5.6 5.6 0 0 0 1.5 3.9 5.6 5.6 0 0 0 3.9 1.5c1.5.1 6.1.1 7.6 0a5.6 5.6 0 0 0 3.9-1.5 5.6 5.6 0 0 0 1.5-3.9c.1-1.5.1-6 0-7.6Zm-2 9.2a3.1 3.1 0 0 1-1.7 1.7c-1.2.5-4 .4-5.8.4s-4.6.1-5.8-.4a3.1 3.1 0 0 1-1.7-1.7c-.5-1.2-.4-4-.4-5.8 0-1.8-.1-4.6.4-5.8a3.1 3.1 0 0 1 1.7-1.7c1.2-.5 4-.4 5.8-.4s4.6-.1 5.8.4a3.1 3.1 0 0 1 1.7 1.7c.5 1.2.4 4 .4 5.8 0 1.8.1 4.6-.4 5.8Z"})]})}),h.jsx("a",{href:"https://www.facebook.com/profile.php?id=61576848183106",target:"_blank",rel:"noreferrer",className:"text-stone-500 hover:text-[var(--brand)] transition","aria-label":"Facebook",children:h.jsx("svg",{className:"h-7 w-7",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:h.jsx("path",{d:"M13.2 21.8v-7.7h2.6l.4-3h-3V9.2c0-.9.3-1.5 1.5-1.5h1.6V5c-.3 0-1.2-.1-2.2-.1-2.1 0-3.6 1.3-3.6 3.7v2.2H8v3h2.5v7.7h2.7Z"})})})]})]})]})]})]})}function Qy(){if(typeof window>"u")return null;try{const t=window.localStorage.getItem("mgmf-auth-user");return t?JSON.parse(t):null}catch(t){return console.error("Failed to read stored auth user",t),null}}function xr(t){typeof window>"u"||(t?window.localStorage.setItem("mgmf-auth-user",JSON.stringify(t)):window.localStorage.removeItem("mgmf-auth-user"))}function Gy({isOpen:t,onClose:e,onLogin:n}){return t?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:h.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-8 shadow-2xl ring-1 ring-stone-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-wide text-[var(--brand)] font-semibold",children:"Secure Access"}),h.jsx("h2",{className:"text-3xl font-bold text-stone-900",children:"Sign in"})]}),h.jsx("button",{onClick:e,"aria-label":"Close login",className:"text-stone-500 hover:text-stone-700 text-2xl leading-none",children:""})]}),h.jsx(Hy,{onLogin:async(r,s)=>{const i=await n(r,s);return i.success&&e(),i}})]})}):null}function qy(){const[t,e]=b.useState(()=>Qy()),[n,r]=b.useState(!1);b.useEffect(()=>{let a=!0;return(async()=>{const{data:u,error:c}=await By();if(a){if(c){console.error("Failed to refresh stored session",c),e(null),xr(null);return}u?(e(u),xr(u)):(e(null),xr(null))}})(),()=>{a=!1}},[]);const s=async(a,l)=>{if(!a||!l)return{success:!1,message:"Please provide both email and password."};const{data:u,error:c}=await zy(a,l);return c||!u?{success:!1,message:c??"Invalid username or password."}:(e(u),xr(u),{success:!0,user:u})},i=async()=>{const a=await Wy();a&&console.error("Failed to log out of Supabase session",a),e(null),xr(null),r(!1)},o=!!t;return h.jsx(e0,{children:h.jsxs("div",{className:"min-h-screen bg-stone-50 text-stone-800",children:[h.jsx(Vy,{isAuthenticated:o,user:t,onLogout:i,onLoginClick:()=>r(!0)}),h.jsx("main",{children:h.jsxs(Qg,{children:[h.jsx(jr,{path:"/",element:h.jsx(Ky,{isAuthenticated:o,user:t})}),h.jsx(jr,{path:"/quotes",element:o?h.jsx(Oy,{}):h.jsx(_o,{to:"/",replace:!0})}),h.jsx(jr,{path:"/orders",element:o?h.jsx(Ay,{}):h.jsx(_o,{to:"/",replace:!0})}),h.jsx(jr,{path:"/dashboard",element:o?h.jsx(My,{}):h.jsx(_o,{to:"/",replace:!0})})]})}),h.jsx(Gy,{isOpen:n&&!o,onClose:()=>r(!1),onLogin:s})]})})}Oo.createRoot(document.getElementById("root")).render(h.jsx(Mc.StrictMode,{children:h.jsx(qy,{})}));
